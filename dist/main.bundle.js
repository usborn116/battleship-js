(()=>{"use strict";var e={426:(e,n,r)=>{r.d(n,{Z:()=>i});var t=r(537),o=r.n(t),a=r(645),s=r.n(a)()(o());s.push([e.id,'* {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n  \n  html {\n    font-size: 62.5%;\n  }\n  \n  body {\n    box-sizing: border-box;\n    background-color: #353535;\n    color: #fff;\n    font-size: 1.6rem;\n    font-weight: 300;\n    font-family: "Noto Sans", sans-serif;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  h1, h2 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  \n  .heading-primary {\n    font-size: 4rem;\n    font-weight: 400;\n    margin-bottom: 1rem;\n    letter-spacing: 1px;\n  }\n  \n  .heading-secondary {\n    margin-bottom: 1.5rem;\n    font-size: 3rem;\n    position: relative;\n    width: 100%;\n    text-align: center;\n  }\n  \n  .player-rotate-btn {\n    position: absolute;\n    top: 0;\n    right: 0rem;\n    padding: 1rem;\n    font-family: inherit;\n    font-size: inherit;\n    font-weight: 400;\n    color: inherit;\n    background-color: transparent;\n    border: 0;\n    border-radius: 50%;\n    width: 5rem;\n    height: 5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .player-rotate-btn:hover {\n    cursor: pointer;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .grid-container {\n    display: flex;\n  }\n  \n  .player1-interface,\n  .player2-interface {\n    margin: 2rem 6rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n  }\n  \n  .grid {\n    height: 40rem;\n    width: 40rem;\n    background-color: #284b63;\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n  }\n  \n  .square {\n    border: 1px solid #000;\n  }\n  .square:hover {\n    cursor: pointer;\n  }\n  \n  .computer-square:hover {\n    background-color: #3c6e71;\n  }\n  \n  .shadow {\n    background-color: yellow;\n  }\n  \n  .red {\n    background-color: red;\n  }\n  \n  .green {\n    background-color: green;\n  }\n  \n  .white {\n    background-color: white;\n  }\n  \n  .grey:hover {\n    background-color: grey;\n  }\n  \n  /*# sourceMappingURL=styles.css.map */',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,UAAU;IACV,mBAAmB;EACrB;;EAEA;IACE,gBAAgB;EAClB;;EAEA;IACE,sBAAsB;IACtB,yBAAyB;IACzB,WAAW;IACX,iBAAiB;IACjB,gBAAgB;IAChB,oCAAoC;IACpC,iBAAiB;IACjB,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,uBAAuB;EACzB;;EAEA;IACE,kBAAkB;IAClB,oBAAoB;EACtB;;EAEA;IACE,eAAe;IACf,gBAAgB;IAChB,mBAAmB;IACnB,mBAAmB;EACrB;;EAEA;IACE,qBAAqB;IACrB,eAAe;IACf,kBAAkB;IAClB,WAAW;IACX,kBAAkB;EACpB;;EAEA;IACE,kBAAkB;IAClB,MAAM;IACN,WAAW;IACX,aAAa;IACb,oBAAoB;IACpB,kBAAkB;IAClB,gBAAgB;IAChB,cAAc;IACd,6BAA6B;IAC7B,SAAS;IACT,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,mBAAmB;EACrB;EACA;IACE,eAAe;IACf,oCAAoC;EACtC;;EAEA;IACE,aAAa;EACf;;EAEA;;IAEE,iBAAiB;IACjB,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,kBAAkB;EACpB;;EAEA;IACE,aAAa;IACb,YAAY;IACZ,yBAAyB;IACzB,aAAa;IACb,sCAAsC;IACtC,mCAAmC;EACrC;;EAEA;IACE,sBAAsB;EACxB;EACA;IACE,eAAe;EACjB;;EAEA;IACE,yBAAyB;EAC3B;;EAEA;IACE,wBAAwB;EAC1B;;EAEA;IACE,qBAAqB;EACvB;;EAEA;IACE,uBAAuB;EACzB;;EAEA;IACE,uBAAuB;EACzB;;EAEA;IACE,sBAAsB;EACxB;;EAEA,qCAAqC",sourcesContent:['* {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n  \n  html {\n    font-size: 62.5%;\n  }\n  \n  body {\n    box-sizing: border-box;\n    background-color: #353535;\n    color: #fff;\n    font-size: 1.6rem;\n    font-weight: 300;\n    font-family: "Noto Sans", sans-serif;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  h1, h2 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  \n  .heading-primary {\n    font-size: 4rem;\n    font-weight: 400;\n    margin-bottom: 1rem;\n    letter-spacing: 1px;\n  }\n  \n  .heading-secondary {\n    margin-bottom: 1.5rem;\n    font-size: 3rem;\n    position: relative;\n    width: 100%;\n    text-align: center;\n  }\n  \n  .player-rotate-btn {\n    position: absolute;\n    top: 0;\n    right: 0rem;\n    padding: 1rem;\n    font-family: inherit;\n    font-size: inherit;\n    font-weight: 400;\n    color: inherit;\n    background-color: transparent;\n    border: 0;\n    border-radius: 50%;\n    width: 5rem;\n    height: 5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .player-rotate-btn:hover {\n    cursor: pointer;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .grid-container {\n    display: flex;\n  }\n  \n  .player1-interface,\n  .player2-interface {\n    margin: 2rem 6rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n  }\n  \n  .grid {\n    height: 40rem;\n    width: 40rem;\n    background-color: #284b63;\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n  }\n  \n  .square {\n    border: 1px solid #000;\n  }\n  .square:hover {\n    cursor: pointer;\n  }\n  \n  .computer-square:hover {\n    background-color: #3c6e71;\n  }\n  \n  .shadow {\n    background-color: yellow;\n  }\n  \n  .red {\n    background-color: red;\n  }\n  \n  .green {\n    background-color: green;\n  }\n  \n  .white {\n    background-color: white;\n  }\n  \n  .grey:hover {\n    background-color: grey;\n  }\n  \n  /*# sourceMappingURL=styles.css.map */'],sourceRoot:""}]);const i=s},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r})).join("")},n.i=function(e,r,t,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(t)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);t&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},537:e=>{e.exports=function(e){var n=e[1],r=e[3];if(!r)return n;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),a="/*# ".concat(o," */"),s=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([a]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var a={},s=[],i=0;i<e.length;i++){var l=e[i],c=t.base?l[0]+t.base:l[0],u=a[c]||0,d="".concat(c," ").concat(u);a[c]=u+1;var A=r(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==A)n[A].references++,n[A].updater(f);else{var p=o(f,t);t.byIndex=i,n.splice(i,0,{identifier:d,updater:p,references:1})}s.push(d)}return s}function o(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;r.update(e=n)}else r.remove()}}e.exports=function(e,o){var a=t(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=r(a[s]);n[i].references--}for(var l=t(e,o),c=0;c<a.length;c++){var u=r(a[c]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}a=l}}},569:e=>{var n={};e.exports=function(e,r){var t=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,r)=>{e.exports=function(e){var n=r.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,o&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={id:t,exports:{}};return e[t](a,a.exports,r),a.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.nc=void 0,(()=>{const e=(e,n)=>{let r=[];for(let n=0;n<e;n++)r.push(0);return{size:e,name:n,positions:r,hit:e=>{r[e]=1},isSunk:()=>!r.includes(0)&&(console.log(`${n} Sunk!`),!0)}},n=()=>{const e=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];e.forEach(((e,n)=>{e.forEach(((n,r)=>{e[r]={ship:null,isHit:null}}))}));const n=(e,n,r)=>{const t=n[0];return n[1]+e.size>10&&"x"===r||t+e.size>10&&"y"===r},r=(r,t,o)=>{const a=t[0],s=t[1];if(n(r,t,o)){if("x"===o){const n=9-s,t=r.size-(n+1);for(let r=0;r<=n;r++)if(e[a][s+r].ship)return!1;for(let n=1;n<=t;n++)if(e[a][s-n].ship)return!1}else{const n=9-a,t=r.size-(n+1);for(let r=0;r<=n;r++)if(e[a+r][s].ship)return!1;for(let n=1;n<=t;n++)if(e[a-n][s].ship)return!1}return!0}if("x"===o){for(let n=0;n<r.size;n++)if(e[a][s+n].ship)return!1}else for(let n=0;n<r.size;n++)if(e[a+n][s].ship)return!1;return!0},t=n=>!!e[n[0]][n[1]].ship,o=(e,n)=>{for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0};return{grid:e,place:(t,o,a)=>{const s=o[0],i=o[1];if(!1!==r(t,o,a)){if(n(t,o,a))if("x"===a){const n=9-i,r=t.size-(n+1);for(let r=0;r<=n;r++)e[s][i+r].ship=t.name;for(let n=1;n<=r;n++)e[s][i-n].ship=t.name}else{const n=9-s,r=t.size-(n+1);for(let r=0;r<=n;r++)e[s+r][i].ship=t.name;for(let n=1;n<=r;n++)e[s-n][i].ship=t.name}else if("x"===a)for(let n=0;n<t.size;n++)e[s][i+n].ship=t.name;else for(let n=0;n<t.size;n++)e[s+n][i].ship=t.name;return e}},checkHit:t,receiveAttack:(n,r)=>{if(!0===t(n)){e[n[0]][n[1]].isHit=!0;const t=e[n[0]][n[1]].ship,a=[];let s;for(let n=0;n<10;n++)for(let r=0;r<10;r++)e[n][r].ship===t&&a.push([n,r]);for(let e=0;e<a.length;e++)o(n,a[e])&&(s=e);r.find((e=>e.name===t)).hit(s)}else e[n[0]][n[1]].isHit=!1},isGameOver:()=>{let n;return(()=>{const n=[];for(let r=0;r<10;r++)for(let t=0;t<10;t++)e[r][t].ship&&n.push(e[r][t]);return n})().forEach((e=>{null===e.isHit&&(n=!0)})),!0!==n},renderGameboard:(n=!1)=>{if(!0===n)for(let n=0;n<10;n++)for(let r=0;r<10;r++)!0===e[n][r].isHit&&document.querySelector(`#computer-square-${n}${r}`).classList.add("green"),!1===e[n][r].isHit&&document.querySelector(`#computer-square-${n}${r}`).classList.add("red");else for(let n=0;n<10;n++)for(let r=0;r<10;r++){if(e[n][r].ship&&document.querySelector(`#square-${n}${r}`).classList.add("white"),!0===e[n][r].isHit){const e=document.querySelector(`#square-${n}${r}`);e.classList.remove("white"),e.classList.add("green")}!1===e[n][r].isHit&&document.querySelector(`#square-${n}${r}`).classList.add("red")}},isValidPlacement:r,logAttack:e=>{!0===t(e)?console.log("Hit!"):console.log("Missed")}}};var t=r(379),o=r.n(t),a=r(795),s=r.n(a),i=r(569),l=r.n(i),c=r(565),u=r.n(c),d=r(216),A=r.n(d),f=r(589),p=r.n(f),m=r(426),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=A(),o()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;const h=e(5,"carrier"),y=e(4,"battleship"),B=e(3,"destroyer"),I=e(3,"submarine"),b=e(2,"patrol"),C=e(5,"Carrier"),E=e(4,"Battleship"),v=e(3,"Destroyer"),q=e(3,"Submarine"),k=e(2,"Patrol"),x=[h,y,B,I,b],S=[C,E,v,q,k],w=n(),L=n(),z=((e,n,r)=>({name:e,gameboard:n,shipList:r,attack:(e,n)=>{e.gameboard.receiveAttack(n,e.shipList)}}))("Player 1",w,x),$=((e,n,r)=>({name:e,gameboard:n,shipList:r,attack:(e,n)=>{e.gameboard.receiveAttack(n,e.shipList)},attackRandom:e=>{const n=(e=>{const n=[];for(let r=0;r<10;r++)for(let t=0;t<10;t++)null===e.gameboard.grid[r][t].isHit&&n.push([r,t]);return n})(e),r=(t=n)[Math.floor(Math.random()*t.length)];var t;return e.gameboard.receiveAttack(r,e.shipList),r},seekValidAdjacentSquares:(e,n)=>{let r=e[0],t=e[1];const o=[];return r+1<10&&null===n.grid[r+1][t].isHit&&o.push([r+1,t]),r-1>-1&&null===n.grid[r-1][t].isHit&&o.push([r-1,t]),t+1<10&&null===n.grid[r][t+1].isHit&&o.push([r,t+1]),t-1>-1&&null===n.grid[r][t-1].isHit&&o.push([r,t-1]),o}}))("Player 2",L,S);let H="x";const M=document.querySelectorAll(".computer-square");document.getElementById("player-rotate-btn").addEventListener("click",(()=>{H="x"===H?"y":"x"}));const P=(e,n)=>{if("x"===H){let r;return r=n<10?n:parseInt(n.toString().slice(1)),r+e>10}{let r;return r=n<10?0:parseInt(n.toString().slice(0,1)),r+e>10}},j=e=>{if("x"===H){let n;return n=e<10?e:parseInt(e.toString().slice(1)),9-n}{let n;return n=e<10?0:parseInt(e.toString().slice(0,1)),9-n}},V=e=>{const n=document.querySelectorAll(".player-square");let r;1===e&&(r=b),2===e&&(r=I),3===e&&(r=B),4===e&&(r=y),5===e&&(r=h),console.log(`Place your ${r.name}`);let t=r.size;n.forEach(((e,r)=>{e.addEventListener("mouseover",(()=>{if(P(t,r))if("x"===H){for(let e=0;e<j(r)+1;e++)n[r+e].classList.add("shadow");for(let e=0;e<=t-(j(r)+1);e++)n[r-e].classList.add("shadow")}else{for(let e=0;e<j(r)+1;e++)n[r+10*e].classList.add("shadow");for(let e=0;e<=t-(j(r)+1);e++)n[r-10*e].classList.add("shadow")}else if("x"===H)for(let e=0;e<t;e++)n[r+e].classList.add("shadow");else for(let e=0;e<t;e++)n[r+10*e].classList.add("shadow")}))})),n.forEach(((e,r)=>{e.addEventListener("mouseout",(()=>{if(P(t,r))if("x"===H){for(let e=0;e<j(r)+1;e++)n[r+e].classList.remove("shadow");for(let e=0;e<=t-(j(r)+1);e++)n[r-e].classList.remove("shadow")}else{for(let e=0;e<j(r)+1;e++)n[r+10*e].classList.remove("shadow");for(let e=0;e<=t-(j(r)+1);e++)n[r-10*e].classList.remove("shadow")}else if("x"===H)for(let e=0;e<t;e++)n[r+e].classList.remove("shadow");else for(let e=0;e<t;e++)n[r+10*e].classList.remove("shadow")}))})),n.forEach(((o,a)=>{o.addEventListener("click",(t=>{const o=t.target.id.slice(7).split("").map((e=>parseInt(e)));if(w.isValidPlacement(r,o,H)){if(w.place(r,o,H),w.renderGameboard(),e++,N(n),6===e)return(()=>{let e=[];M.forEach((n=>{n.addEventListener("click",(n=>{const r=n.target.id.slice(16).split("").map((e=>parseInt(e)));if(!0!==$.gameboard.grid[r[0]][r[1]].isHit&&!1!==$.gameboard.grid[r[0]][r[1]].isHit)if(z.attack($,r),$.gameboard.logAttack(r),$.gameboard.checkHit(r)&&S.find((e=>e.name===$.gameboard.grid[r[0]][r[1]].ship)).isSunk(),L.renderGameboard(!0),!0===$.gameboard.isGameOver())console.log("Game Over! Player 1 Wins!");else{if(0===e.length){const n=$.attackRandom(z);!0===z.gameboard.grid[n[0]][n[1]].isHit&&(e=$.seekValidAdjacentSquares(n,z.gameboard))}else $.attack(z,e[0]),!1===z.gameboard.grid[e[0][0]][e[0][1]].isHit||$.seekValidAdjacentSquares(e[0],z.gameboard).forEach((n=>{JSON.stringify(e).includes(JSON.stringify(n))||e.push(n)})),e.shift();w.renderGameboard(!1),!0===z.gameboard.isGameOver()&&console.log("Game Over! Player 2 Wins!")}}))}))})(),void console.log("Placement phase over. Take the first shot.");V(e)}})),o.addEventListener("mouseover",(e=>{const n=e.target.id.slice(7),o=n.split("").map((e=>parseInt(e)));if(P(t,a)){if("x"===H){if(!1===w.isValidPlacement(r,o,H)){for(let e=0;e<j(a)+1;e++){let r;r=parseInt(n)<10?document.querySelector(`#square-0${parseInt(n)+e}`):document.querySelector(`#square-${parseInt(n)+e}`),r.style.background="grey"}for(let e=0;e<=t-(j(a)+1);e++){let r;r=parseInt(n)<10?document.querySelector("#square-0"+(parseInt(n)-e)):document.querySelector("#square-"+(parseInt(n)-e)),r.style.background="grey"}}}else if(!1===w.isValidPlacement(r,o,H)){for(let e=0;e<j(a)+1;e++){let r;r=parseInt(n)<10&&0===e?document.querySelector(`#square-0${parseInt(n)+10*e}`):document.querySelector(`#square-${parseInt(n)+10*e}`),r.style.background="grey"}for(let e=0;e<=t-(j(a)+1);e++){let r;r=parseInt(n)<10&&0===e?document.querySelector("#square-0"+(parseInt(n)-10*e)):document.querySelector("#square-"+(parseInt(n)-10*e)),r.style.background="grey"}}}else if("x"===H){if(!1===w.isValidPlacement(r,o,H))for(let e=0;e<t;e++){let r;r=parseInt(n)<10?document.querySelector(`#square-0${parseInt(n)+e}`):document.querySelector(`#square-${parseInt(n)+e}`),r.style.background="grey"}}else if(!1===w.isValidPlacement(r,o,H))for(let e=0;e<t;e++){let r;r=parseInt(n)<10&&0===e?document.querySelector(`#square-0${parseInt(n)+10*e}`):document.querySelector(`#square-${parseInt(n)+10*e}`),r.style.background="grey"}})),o.addEventListener("mouseout",(e=>{const n=e.target.id.slice(7),r=n.split("").map((e=>parseInt(e)));if(P(t,a)){if("x"===H){if(!1===w.isValidPlacement(h,r,H)){for(let e=0;e<j(a)+1;e++){let r;r=parseInt(n)<10?document.querySelector(`#square-0${parseInt(n)+e}`):document.querySelector(`#square-${parseInt(n)+e}`),r.style.background=""}for(let e=0;e<=t-(j(a)+1);e++){let r;r=parseInt(n)<10?document.querySelector("#square-0"+(parseInt(n)-e)):document.querySelector("#square-"+(parseInt(n)-e)),r.style.background=""}}}else if(!1===w.isValidPlacement(h,r,H)){for(let e=0;e<j(a)+1;e++){let r;r=parseInt(n)<10&&0===e?document.querySelector(`#square-0${parseInt(n)+10*e}`):document.querySelector(`#square-${parseInt(n)+10*e}`),r.style.background=""}for(let e=0;e<=t-(j(a)+1);e++){let r;r=parseInt(n)<10&&0===e?document.querySelector("#square-0"+(parseInt(n)-10*e)):document.querySelector("#square-"+(parseInt(n)-10*e)),r.style.background=""}}}else if("x"===H){if(!1===w.isValidPlacement(h,r,H))for(let e=0;e<t;e++){let r;r=parseInt(n)<10?document.querySelector(`#square-0${parseInt(n)+e}`):document.querySelector(`#square-${parseInt(n)+e}`),r.style.background=""}}else if(!1===w.isValidPlacement(h,r,H))for(let e=0;e<t;e++){let r;r=parseInt(n)<10&&0===e?document.querySelector(`#square-0${parseInt(n)+10*e}`):document.querySelector(`#square-${parseInt(n)+10*e}`),r.style.background=""}}))}))},N=e=>{e.forEach((e=>{const n=e.cloneNode(!0);e.parentNode.replaceChild(n,e)}))};V(1),(()=>{const e=e=>e[Math.floor(Math.random()*e.length)];S.forEach((n=>{let r=!1;const t=[];for(let e=0;e<10;e++)for(let n=0;n<10;n++)null===L.grid[e][n].ship&&t.push([e,n]);let o;o=0===Math.floor(2*Math.random())?"x":"y";let a=e(t);for(;!1===r;)L.isValidPlacement(n,a,o)?(L.place(n,a,o),r=!0):(a=e(t),o=0===Math.floor(2*Math.random())?"x":"y")}))})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJtYXBwaW5ncyI6IndGQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLDZuRUFBZ29FLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLDZCQUE2QixNQUFRLEdBQUcsU0FBVyw2OUJBQTY5QixlQUFpQixDQUFDLDhuRUFBZ29FLFdBQWEsTUFFbjNLLFMsVUNEQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBNkZYLE9BM0ZBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsS0FBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVLEdBQ1ZDLE9BQStCLElBQVpGLEVBQUssR0E0QjVCLE9BMUJJQSxFQUFLLEtBQ1BDLEdBQVcsY0FBY0UsT0FBT0gsRUFBSyxHQUFJLFFBR3ZDQSxFQUFLLEtBQ1BDLEdBQVcsVUFBVUUsT0FBT0gsRUFBSyxHQUFJLE9BR25DRSxJQUNGRCxHQUFXLFNBQVNFLE9BQU9ILEVBQUssR0FBR0ksT0FBUyxFQUFJLElBQUlELE9BQU9ILEVBQUssSUFBTSxHQUFJLE9BRzVFQyxHQUFXTixFQUF1QkssR0FFOUJFLElBQ0ZELEdBQVcsS0FHVEQsRUFBSyxLQUNQQyxHQUFXLEtBR1RELEVBQUssS0FDUEMsR0FBVyxLQUdOQSxDQUNULElBQUdJLEtBQUssR0FDVixFQUdBVCxFQUFLVSxFQUFJLFNBQVdDLEVBQVNDLEVBQU9DLEVBQVFDLEVBQVVDLEdBQzdCLGlCQUFaSixJQUNUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxPQUFTSyxLQUc3QixJQUFJQyxFQUF5QixDQUFDLEVBRTlCLEdBQUlKLEVBQ0YsSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUloQixLQUFLTSxPQUFRVSxJQUFLLENBQ3BDLElBQUlyQixFQUFLSyxLQUFLZ0IsR0FBRyxHQUVQLE1BQU5yQixJQUNGb0IsRUFBdUJwQixJQUFNLEVBRWpDLENBR0YsSUFBSyxJQUFJc0IsRUFBSyxFQUFHQSxFQUFLUixFQUFRSCxPQUFRVyxJQUFNLENBQzFDLElBQUlmLEVBQU8sR0FBR0csT0FBT0ksRUFBUVEsSUFFekJOLEdBQVVJLEVBQXVCYixFQUFLLFdBSXJCLElBQVZXLFNBQ2MsSUFBWlgsRUFBSyxLQUdkQSxFQUFLLEdBQUssU0FBU0csT0FBT0gsRUFBSyxHQUFHSSxPQUFTLEVBQUksSUFBSUQsT0FBT0gsRUFBSyxJQUFNLEdBQUksTUFBTUcsT0FBT0gsRUFBSyxHQUFJLE1BRi9GQSxFQUFLLEdBQUtXLEdBT1ZILElBQ0dSLEVBQUssSUFHUkEsRUFBSyxHQUFLLFVBQVVHLE9BQU9ILEVBQUssR0FBSSxNQUFNRyxPQUFPSCxFQUFLLEdBQUksS0FDMURBLEVBQUssR0FBS1EsR0FIVlIsRUFBSyxHQUFLUSxHQU9WRSxJQUNHVixFQUFLLElBR1JBLEVBQUssR0FBSyxjQUFjRyxPQUFPSCxFQUFLLEdBQUksT0FBT0csT0FBT0gsRUFBSyxHQUFJLEtBQy9EQSxFQUFLLEdBQUtVLEdBSFZWLEVBQUssR0FBSyxHQUFHRyxPQUFPTyxJQU94QmQsRUFBS0wsS0FBS1MsR0FDWixDQUNGLEVBRU9KLENBQ1QsQyxVQ25HQUosRUFBT0UsUUFBVSxTQUFVTSxHQUN6QixJQUFJQyxFQUFVRCxFQUFLLEdBQ2ZnQixFQUFhaEIsRUFBSyxHQUV0QixJQUFLZ0IsRUFDSCxPQUFPZixFQUdULEdBQW9CLG1CQUFUZ0IsS0FBcUIsQ0FDOUIsSUFBSUMsRUFBU0QsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTixNQUN6RE8sRUFBTywrREFBK0RwQixPQUFPZSxHQUM3RU0sRUFBZ0IsT0FBT3JCLE9BQU9vQixFQUFNLE9BQ3BDRSxFQUFhVCxFQUFXVSxRQUFRM0IsS0FBSSxTQUFVNEIsR0FDaEQsTUFBTyxpQkFBaUJ4QixPQUFPYSxFQUFXWSxZQUFjLElBQUl6QixPQUFPd0IsRUFBUSxNQUM3RSxJQUNBLE1BQU8sQ0FBQzFCLEdBQVNFLE9BQU9zQixHQUFZdEIsT0FBTyxDQUFDcUIsSUFBZ0JuQixLQUFLLEtBQ25FLENBRUEsTUFBTyxDQUFDSixHQUFTSSxLQUFLLEtBQ3hCLEMsVUNuQkEsSUFBSXdCLEVBQWMsR0FFbEIsU0FBU0MsRUFBcUJDLEdBRzVCLElBRkEsSUFBSUMsR0FBVSxFQUVMMUIsRUFBSSxFQUFHQSxFQUFJdUIsRUFBWXpCLE9BQVFFLElBQ3RDLEdBQUl1QixFQUFZdkIsR0FBR3lCLGFBQWVBLEVBQVksQ0FDNUNDLEVBQVMxQixFQUNULEtBQ0YsQ0FHRixPQUFPMEIsQ0FDVCxDQUVBLFNBQVNDLEVBQWFyQyxFQUFNc0MsR0FJMUIsSUFIQSxJQUFJQyxFQUFhLENBQUMsRUFDZEMsRUFBYyxHQUVUOUIsRUFBSSxFQUFHQSxFQUFJVixFQUFLUSxPQUFRRSxJQUFLLENBQ3BDLElBQUlOLEVBQU9KLEVBQUtVLEdBQ1piLEVBQUt5QyxFQUFRRyxLQUFPckMsRUFBSyxHQUFLa0MsRUFBUUcsS0FBT3JDLEVBQUssR0FDbERzQyxFQUFRSCxFQUFXMUMsSUFBTyxFQUMxQnNDLEVBQWEsR0FBRzVCLE9BQU9WLEVBQUksS0FBS1UsT0FBT21DLEdBQzNDSCxFQUFXMUMsR0FBTTZDLEVBQVEsRUFDekIsSUFBSUMsRUFBb0JULEVBQXFCQyxHQUN6Q1MsRUFBTSxDQUNSQyxJQUFLekMsRUFBSyxHQUNWUSxNQUFPUixFQUFLLEdBQ1owQyxVQUFXMUMsRUFBSyxHQUNoQlUsU0FBVVYsRUFBSyxHQUNmVyxNQUFPWCxFQUFLLElBR2QsSUFBMkIsSUFBdkJ1QyxFQUNGVixFQUFZVSxHQUFtQkksYUFDL0JkLEVBQVlVLEdBQW1CSyxRQUFRSixPQUNsQyxDQUNMLElBQUlJLEVBQVVDLEVBQWdCTCxFQUFLTixHQUNuQ0EsRUFBUVksUUFBVXhDLEVBQ2xCdUIsRUFBWWtCLE9BQU96QyxFQUFHLEVBQUcsQ0FDdkJ5QixXQUFZQSxFQUNaYSxRQUFTQSxFQUNURCxXQUFZLEdBRWhCLENBRUFQLEVBQVk3QyxLQUFLd0MsRUFDbkIsQ0FFQSxPQUFPSyxDQUNULENBRUEsU0FBU1MsRUFBZ0JMLEVBQUtOLEdBQzVCLElBQUljLEVBQU1kLEVBQVFlLE9BQU9mLEdBZXpCLE9BZEFjLEVBQUlFLE9BQU9WLEdBRUcsU0FBaUJXLEdBQzdCLEdBQUlBLEVBQVEsQ0FDVixHQUFJQSxFQUFPVixNQUFRRCxFQUFJQyxLQUFPVSxFQUFPM0MsUUFBVWdDLEVBQUloQyxPQUFTMkMsRUFBT1QsWUFBY0YsRUFBSUUsV0FBYVMsRUFBT3pDLFdBQWE4QixFQUFJOUIsVUFBWXlDLEVBQU94QyxRQUFVNkIsRUFBSTdCLE1BQ3pKLE9BR0ZxQyxFQUFJRSxPQUFPVixFQUFNVyxFQUNuQixNQUNFSCxFQUFJSSxRQUVSLENBR0YsQ0FFQTVELEVBQU9FLFFBQVUsU0FBVUUsRUFBTXNDLEdBRy9CLElBQUltQixFQUFrQnBCLEVBRHRCckMsRUFBT0EsR0FBUSxHQURmc0MsRUFBVUEsR0FBVyxDQUFDLEdBR3RCLE9BQU8sU0FBZ0JvQixHQUNyQkEsRUFBVUEsR0FBVyxHQUVyQixJQUFLLElBQUloRCxFQUFJLEVBQUdBLEVBQUkrQyxFQUFnQmpELE9BQVFFLElBQUssQ0FDL0MsSUFDSWlELEVBQVF6QixFQURLdUIsRUFBZ0IvQyxJQUVqQ3VCLEVBQVkwQixHQUFPWixZQUNyQixDQUlBLElBRkEsSUFBSWEsRUFBcUJ2QixFQUFhcUIsRUFBU3BCLEdBRXRDdUIsRUFBSyxFQUFHQSxFQUFLSixFQUFnQmpELE9BQVFxRCxJQUFNLENBQ2xELElBRUlDLEVBQVM1QixFQUZLdUIsRUFBZ0JJLElBSUssSUFBbkM1QixFQUFZNkIsR0FBUWYsYUFDdEJkLEVBQVk2QixHQUFRZCxVQUVwQmYsRUFBWWtCLE9BQU9XLEVBQVEsR0FFL0IsQ0FFQUwsRUFBa0JHLENBQ3BCLENBQ0YsQyxVQ3JHQSxJQUFJRyxFQUFPLENBQUMsRUFvQ1puRSxFQUFPRSxRQVZQLFNBQTBCa0UsRUFBUUMsR0FDaEMsSUFBSUMsRUF4Qk4sU0FBbUJBLEdBQ2pCLFFBQTRCLElBQWpCSCxFQUFLRyxHQUF5QixDQUN2QyxJQUFJQyxFQUFjQyxTQUFTQyxjQUFjSCxHQUV6QyxHQUFJSSxPQUFPQyxtQkFBcUJKLGFBQXVCRyxPQUFPQyxrQkFDNUQsSUFHRUosRUFBY0EsRUFBWUssZ0JBQWdCQyxJQUk1QyxDQUhFLE1BQU9DLEdBRVBQLEVBQWMsSUFDaEIsQ0FHRkosRUFBS0csR0FBVUMsQ0FDakIsQ0FFQSxPQUFPSixFQUFLRyxFQUNkLENBS2VTLENBQVVYLEdBRXZCLElBQUtFLEVBQ0gsTUFBTSxJQUFJVSxNQUFNLDJHQUdsQlYsRUFBT1csWUFBWVosRUFDckIsQyxVQzFCQXJFLEVBQU9FLFFBUFAsU0FBNEJ3QyxHQUMxQixJQUFJd0MsRUFBVVYsU0FBU1csY0FBYyxTQUdyQyxPQUZBekMsRUFBUTBDLGNBQWNGLEVBQVN4QyxFQUFRMkMsWUFDdkMzQyxFQUFRMEIsT0FBT2MsRUFBU3hDLEVBQVFBLFNBQ3pCd0MsQ0FDVCxDLGdCQ0dBbEYsRUFBT0UsUUFSUCxTQUF3Q29GLEdBQ3RDLElBQUlDLEVBQW1ELEtBRW5EQSxHQUNGRCxFQUFhRSxhQUFhLFFBQVNELEVBRXZDLEMsVUM0REF2RixFQUFPRSxRQVpQLFNBQWdCd0MsR0FDZCxJQUFJNEMsRUFBZTVDLEVBQVErQyxtQkFBbUIvQyxHQUM5QyxNQUFPLENBQ0xnQixPQUFRLFNBQWdCVixJQXpENUIsU0FBZXNDLEVBQWM1QyxFQUFTTSxHQUNwQyxJQUFJQyxFQUFNLEdBRU5ELEVBQUk5QixXQUNOK0IsR0FBTyxjQUFjdEMsT0FBT3FDLEVBQUk5QixTQUFVLFFBR3hDOEIsRUFBSWhDLFFBQ05pQyxHQUFPLFVBQVV0QyxPQUFPcUMsRUFBSWhDLE1BQU8sT0FHckMsSUFBSU4sT0FBaUMsSUFBZHNDLEVBQUk3QixNQUV2QlQsSUFDRnVDLEdBQU8sU0FBU3RDLE9BQU9xQyxFQUFJN0IsTUFBTVAsT0FBUyxFQUFJLElBQUlELE9BQU9xQyxFQUFJN0IsT0FBUyxHQUFJLE9BRzVFOEIsR0FBT0QsRUFBSUMsSUFFUHZDLElBQ0Z1QyxHQUFPLEtBR0xELEVBQUloQyxRQUNOaUMsR0FBTyxLQUdMRCxFQUFJOUIsV0FDTitCLEdBQU8sS0FHVCxJQUFJQyxFQUFZRixFQUFJRSxVQUVoQkEsR0FBNkIsb0JBQVR6QixPQUN0QndCLEdBQU8sdURBQXVEdEMsT0FBT2MsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVb0IsTUFBZSxRQU10SVIsRUFBUWdELGtCQUFrQnpDLEVBQUtxQyxFQUFjNUMsRUFBUUEsUUFDdkQsQ0FpQk1pRCxDQUFNTCxFQUFjNUMsRUFBU00sRUFDL0IsRUFDQVksT0FBUSxZQWpCWixTQUE0QjBCLEdBRTFCLEdBQWdDLE9BQTVCQSxFQUFhTSxXQUNmLE9BQU8sRUFHVE4sRUFBYU0sV0FBV0MsWUFBWVAsRUFDdEMsQ0FXTVEsQ0FBbUJSLEVBQ3JCLEVBRUosQyxVQ3BEQXRGLEVBQU9FLFFBWlAsU0FBMkIrQyxFQUFLcUMsR0FDOUIsR0FBSUEsRUFBYVMsV0FDZlQsRUFBYVMsV0FBV0MsUUFBVS9DLE1BQzdCLENBQ0wsS0FBT3FDLEVBQWFXLFlBQ2xCWCxFQUFhTyxZQUFZUCxFQUFhVyxZQUd4Q1gsRUFBYUwsWUFBWVQsU0FBUzBCLGVBQWVqRCxHQUNuRCxDQUNGLEMsR0NaSWtELEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQmpGLElBQWpCa0YsRUFDSCxPQUFPQSxFQUFhcEcsUUFHckIsSUFBSUYsRUFBU21HLEVBQXlCRSxHQUFZLENBQ2pEcEcsR0FBSW9HLEVBRUpuRyxRQUFTLENBQUMsR0FPWCxPQUhBcUcsRUFBb0JGLEdBQVVyRyxFQUFRQSxFQUFPRSxRQUFTa0csR0FHL0NwRyxFQUFPRSxPQUNmLENDckJBa0csRUFBb0JJLEVBQUt4RyxJQUN4QixJQUFJeUcsRUFBU3pHLEdBQVVBLEVBQU8wRyxXQUM3QixJQUFPMUcsRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFvRyxFQUFvQk8sRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsQ0FBTSxFQ0xkTCxFQUFvQk8sRUFBSSxDQUFDekcsRUFBUzJHLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFQsRUFBb0JXLEVBQUVGLEVBQVlDLEtBQVNWLEVBQW9CVyxFQUFFN0csRUFBUzRHLElBQzVFRSxPQUFPQyxlQUFlL0csRUFBUzRHLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxJQUUxRSxFQ05EVixFQUFvQlcsRUFBSSxDQUFDL0QsRUFBS29FLElBQVVKLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUt2RSxFQUFLb0UsR0NBbEZoQixFQUFvQm9CLFFBQUtwRyxFLE1DQXpCLE1BMEJFLEVBMUJXLENBQUNxRyxFQUFNQyxLQUVoQixJQUFJQyxFQUFZLEdBQ2hCLElBQUssSUFBSTdHLEVBQUksRUFBR0EsRUFBSTJHLEVBQU0zRyxJQUN4QjZHLEVBQVU1SCxLQUFLLEdBYWpCLE1BQU8sQ0FDTDBILE9BQ0FDLE9BQ0FDLFlBQ0FDLElBZldDLElBQ1hGLEVBQVVFLEdBQWlCLENBQUMsRUFlNUJDLE9BYmEsS0FDVEgsRUFBVUksU0FBUyxLQUVyQkMsUUFBUUMsSUFBSSxHQUFHUCxZQUNSLEdBVVgsRUMyTUosRUFsT2tCLEtBQ2hCLE1BQU1RLEVBQU8sQ0FBQyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQzVCLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDNUIsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUM1QixDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQzVCLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDNUIsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUM1QixDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQzVCLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDNUIsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUM1QixDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRTFDQSxFQUFLQyxTQUFRLENBQUNDLEVBQUtyRSxLQUNqQnFFLEVBQUlELFNBQVEsQ0FBQ0UsRUFBUXRFLEtBQ25CcUUsRUFBSXJFLEdBQVMsQ0FBRXVFLEtBQU0sS0FBTUMsTUFBTyxLQUFLLEdBQ3hDLElBR0gsTUFBTUMsRUFBZ0IsQ0FBQ0YsRUFBTUcsRUFBZUMsS0FDMUMsTUFBTUMsRUFBb0JGLEVBQWMsR0FFeEMsT0FEMEJBLEVBQWMsR0FDaEJILEVBQUtiLEtBQU8sSUFBb0IsTUFBZGlCLEdBQ2pDQyxFQUFvQkwsRUFBS2IsS0FBTyxJQUFvQixNQUFkaUIsQ0FDOUIsRUFHYkUsRUFBbUIsQ0FBQ04sRUFBTUcsRUFBZUMsS0FDN0MsTUFBTUMsRUFBb0JGLEVBQWMsR0FDbENJLEVBQW9CSixFQUFjLEdBQ3hDLEdBQUlELEVBQWNGLEVBQU1HLEVBQWVDLEdBZWhDLENBRUwsR0FBa0IsTUFBZEEsRUFBbUIsQ0FDckIsTUFBTUksRUFBaUIsRUFBSUQsRUFDckJFLEVBQXdCVCxFQUFLYixNQUFRcUIsRUFBaUIsR0FDNUQsSUFBSyxJQUFJaEksRUFBSSxFQUFHQSxHQUFLZ0ksRUFBZ0JoSSxJQUNuQyxHQUFJb0gsRUFBS1MsR0FBbUJFLEVBQW9CL0gsR0FBR3dILEtBQ2pELE9BQU8sRUFHWCxJQUFLLElBQUlVLEVBQUksRUFBR0EsR0FBS0QsRUFBdUJDLElBQzFDLEdBQUlkLEVBQUtTLEdBQW1CRSxFQUFvQkcsR0FBR1YsS0FDakQsT0FBTyxDQUdiLEtBQU8sQ0FDTCxNQUFNUSxFQUFpQixFQUFJSCxFQUNyQkksRUFBd0JULEVBQUtiLE1BQVFxQixFQUFpQixHQUM1RCxJQUFLLElBQUloSSxFQUFJLEVBQUdBLEdBQUtnSSxFQUFnQmhJLElBQ25DLEdBQUlvSCxFQUFLUyxFQUFvQjdILEdBQUcrSCxHQUFtQlAsS0FDakQsT0FBTyxFQUdYLElBQUssSUFBSVUsRUFBSSxFQUFHQSxHQUFLRCxFQUF1QkMsSUFDMUMsR0FBSWQsRUFBS1MsRUFBb0JLLEdBQUdILEdBQW1CUCxLQUNqRCxPQUFPLENBR2IsQ0FDQSxPQUFPLENBQ1QsQ0E1Q0UsR0FBa0IsTUFBZEksR0FDRixJQUFLLElBQUk1SCxFQUFJLEVBQUdBLEVBQUl3SCxFQUFLYixLQUFNM0csSUFDN0IsR0FBSW9ILEVBQUtTLEdBQW1CRSxFQUFvQi9ILEdBQUd3SCxLQUNqRCxPQUFPLE9BSVgsSUFBSyxJQUFJeEgsRUFBSSxFQUFHQSxFQUFJd0gsRUFBS2IsS0FBTTNHLElBQzdCLEdBQUlvSCxFQUFLUyxFQUFvQjdILEdBQUcrSCxHQUFtQlAsS0FDakQsT0FBTyxFQUliLE9BQU8sQ0ErQlQsRUEyQ0lXLEVBQVlDLEtBQ1poQixFQUFLZ0IsRUFBWSxJQUFJQSxFQUFZLElBQUlaLEtBS3JDYSxFQUFlLENBQUNDLEVBQVFDLEtBQzVCLElBQUssSUFBSXZJLEVBQUksRUFBR0EsRUFBSXNJLEVBQU94SSxPQUFRRSxJQUNqQyxHQUFJc0ksRUFBT3RJLEtBQU91SSxFQUFPdkksR0FBSSxPQUFPLEVBRXRDLE9BQU8sQ0FBSSxFQXVGYixNQUFPLENBQ0xvSCxPQUNBb0IsTUEzSVksQ0FBQ2hCLEVBQU1HLEVBQWVDLEtBQ2xDLE1BQU1DLEVBQW9CRixFQUFjLEdBQ2xDSSxFQUFvQkosRUFBYyxHQUV4QyxJQUF5RCxJQUFyREcsRUFBaUJOLEVBQU1HLEVBQWVDLEdBQTFDLENBRUEsR0FBSUYsRUFBY0YsRUFBTUcsRUFBZUMsR0FXckMsR0FBa0IsTUFBZEEsRUFBbUIsQ0FDckIsTUFBTUksRUFBaUIsRUFBSUQsRUFDckJFLEVBQXdCVCxFQUFLYixNQUFRcUIsRUFBaUIsR0FDNUQsSUFBSyxJQUFJaEksRUFBSSxFQUFHQSxHQUFLZ0ksRUFBZ0JoSSxJQUNuQ29ILEVBQUtTLEdBQW1CRSxFQUFvQi9ILEdBQUd3SCxLQUFPQSxFQUFLWixLQUU3RCxJQUFLLElBQUlzQixFQUFJLEVBQUdBLEdBQUtELEVBQXVCQyxJQUMxQ2QsRUFBS1MsR0FBbUJFLEVBQW9CRyxHQUFHVixLQUFPQSxFQUFLWixJQUUvRCxLQUFPLENBQ0wsTUFBTW9CLEVBQWlCLEVBQUlILEVBQ3JCSSxFQUF3QlQsRUFBS2IsTUFBUXFCLEVBQWlCLEdBQzVELElBQUssSUFBSWhJLEVBQUksRUFBR0EsR0FBS2dJLEVBQWdCaEksSUFDbkNvSCxFQUFLUyxFQUFvQjdILEdBQUcrSCxHQUFtQlAsS0FBT0EsRUFBS1osS0FFN0QsSUFBSyxJQUFJc0IsRUFBSSxFQUFHQSxHQUFLRCxFQUF1QkMsSUFDMUNkLEVBQUtTLEVBQW9CSyxHQUFHSCxHQUFtQlAsS0FBT0EsRUFBS1osSUFFL0QsTUE1QkEsR0FBa0IsTUFBZGdCLEVBQ0YsSUFBSyxJQUFJNUgsRUFBSSxFQUFHQSxFQUFJd0gsRUFBS2IsS0FBTTNHLElBQzdCb0gsRUFBS1MsR0FBbUJFLEVBQW9CL0gsR0FBR3dILEtBQU9BLEVBQUtaLFVBRzdELElBQUssSUFBSTVHLEVBQUksRUFBR0EsRUFBSXdILEVBQUtiLEtBQU0zRyxJQUM3Qm9ILEVBQUtTLEVBQW9CN0gsR0FBRytILEdBQW1CUCxLQUFPQSxFQUFLWixLQXdCakUsT0FBT1EsQ0FqQytELENBaUMzRCxFQXVHWGUsV0FDQU0sY0F4Rm9CLENBQUNMLEVBQWFNLEtBQ2xDLElBQThCLElBQTFCUCxFQUFTQyxHQUF1QixDQUNsQ2hCLEVBQUtnQixFQUFZLElBQUlBLEVBQVksSUFBSVgsT0FBUSxFQUM3QyxNQUFNa0IsRUFBV3ZCLEVBQUtnQixFQUFZLElBQUlBLEVBQVksSUFBSVosS0FDaERvQixFQUFrQixHQUN4QixJQUFJQyxFQUNKLElBQUssSUFBSTdJLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUN0QixJQUFLLElBQUlrSSxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDbEJkLEVBQUtwSCxHQUFHa0ksR0FBR1YsT0FBU21CLEdBQVVDLEVBQWdCM0osS0FBSyxDQUFDZSxFQUFFa0ksSUFHOUQsSUFBSyxJQUFJbEksRUFBSSxFQUFHQSxFQUFJNEksRUFBZ0I5SSxPQUFRRSxJQUN0Q3FJLEVBQWFELEVBQWFRLEVBQWdCNUksTUFBSzZJLEVBQWE3SSxHQUVyRDBJLEVBQVlJLE1BQUt0QixHQUFRQSxFQUFLWixPQUFTK0IsSUFDL0M3QixJQUFJK0IsRUFDWCxNQUNFekIsRUFBS2dCLEVBQVksSUFBSUEsRUFBWSxJQUFJWCxPQUFRLENBQy9DLEVBdUVBc0IsV0ExRGlCLEtBRWpCLElBQUlDLEVBTUosTUFsQnFCLE1BQ3JCLE1BQU1DLEVBQWMsR0FDcEIsSUFBSyxJQUFJakosRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3RCLElBQUssSUFBSWtJLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNsQmQsRUFBS3BILEdBQUdrSSxHQUFHVixNQUFNeUIsRUFBWWhLLEtBQUttSSxFQUFLcEgsR0FBR2tJLElBR2xELE9BQU9lLENBQVcsRUFJRUMsR0FFUjdCLFNBQVM4QixJQUNNLE9BQXJCQSxFQUFXMUIsUUFDYnVCLEdBQWdCLEVBQ2xCLEtBRW1CLElBQWxCQSxDQUNTLEVBa0RaSSxnQkEvQ3NCLENBQUNDLEdBQW1CLEtBQzFDLElBQXlCLElBQXJCQSxFQUNGLElBQUssSUFBSXJKLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUN0QixJQUFLLElBQUlrSSxFQUFJLEVBQUdBLEVBQUksR0FBSUEsS0FDRyxJQUFyQmQsRUFBS3BILEdBQUdrSSxHQUFHVCxPQUNTL0QsU0FBU0MsY0FBYyxvQkFBb0IzRCxJQUFJa0ksS0FDdkRvQixVQUFVQyxJQUFJLFVBRUwsSUFBckJuQyxFQUFLcEgsR0FBR2tJLEdBQUdULE9BQ1MvRCxTQUFTQyxjQUFjLG9CQUFvQjNELElBQUlrSSxLQUN2RG9CLFVBQVVDLElBQUksWUFLbEMsSUFBSyxJQUFJdkosRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3RCLElBQUssSUFBSWtJLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUFJLENBSzFCLEdBSklkLEVBQUtwSCxHQUFHa0ksR0FBR1YsTUFDUzlELFNBQVNDLGNBQWMsV0FBVzNELElBQUlrSSxLQUM5Q29CLFVBQVVDLElBQUksVUFFTCxJQUFyQm5DLEVBQUtwSCxHQUFHa0ksR0FBR1QsTUFBZ0IsQ0FDN0IsTUFBTStCLEVBQWdCOUYsU0FBU0MsY0FBYyxXQUFXM0QsSUFBSWtJLEtBQzVEc0IsRUFBY0YsVUFBVXhHLE9BQU8sU0FDL0IwRyxFQUFjRixVQUFVQyxJQUFJLFFBQzlCLEVBQ3lCLElBQXJCbkMsRUFBS3BILEdBQUdrSSxHQUFHVCxPQUNTL0QsU0FBU0MsY0FBYyxXQUFXM0QsSUFBSWtJLEtBQzlDb0IsVUFBVUMsSUFBSSxNQUVoQyxDQUVKLEVBZ0JBekIsbUJBQ0EyQixVQWRpQnJCLEtBQ2EsSUFBMUJELEVBQVNDLEdBQXVCbEIsUUFBUUMsSUFBSSxRQUMzQ0QsUUFBUUMsSUFBSSxTQUFTLEVBYTVCLEUseUhDcE5FdkYsRUFBVSxDQUFDLEVBRWZBLEVBQVFnRCxrQkFBb0IsSUFDNUJoRCxFQUFRMEMsY0FBZ0IsSUFFbEIxQyxFQUFRMEIsT0FBUyxTQUFjLEtBQU0sUUFFM0MxQixFQUFRZSxPQUFTLElBQ2pCZixFQUFRK0MsbUJBQXFCLElBRWhCLElBQUksSUFBUy9DLEdBS0osS0FBVyxZQUFpQixXQUEzQyxNQ3BCRDhILEVBQVcsRUFBSyxFQUFHLFdBQ25CQyxFQUFjLEVBQUssRUFBRyxjQUN0QkMsRUFBYSxFQUFLLEVBQUcsYUFDckJDLEVBQWEsRUFBSyxFQUFHLGFBQ3JCQyxFQUFVLEVBQUssRUFBRyxVQUVsQkMsRUFBVyxFQUFLLEVBQUcsV0FDbkJDLEVBQWMsRUFBSyxFQUFHLGNBQ3RCQyxFQUFhLEVBQUssRUFBRyxhQUNyQkMsRUFBYSxFQUFLLEVBQUcsYUFDckJDLEVBQVUsRUFBSyxFQUFHLFVBRWxCQyxFQUFZLENBQUNWLEVBQVVDLEVBQWFDLEVBQVlDLEVBQVlDLEdBQzVETyxFQUFZLENBQUNOLEVBQVVDLEVBQWFDLEVBQVlDLEVBQVlDLEdBRTVERyxFQUFhLElBQ2JDLEVBQWEsSUFFYkMsRUN4QlMsRUFBQzVELEVBQU02RCxFQUFXQyxLQU14QixDQUNMOUQsT0FDQTZELFlBQ0FDLFdBQ0FDLE9BUmEsQ0FBQ0MsRUFBUXhDLEtBQ3RCd0MsRUFBT0gsVUFBVWhDLGNBQWNMLEVBQWF3QyxFQUFPRixTQUFTLElEcUJoRCxDQUFPLFdBQVlKLEVBQVlGLEdBQ3pDUyxFRXpCaUIsRUFBQ2pFLEVBQU02RCxFQUFXQyxLQWtEOUIsQ0FDTDlELE9BQ0E2RCxZQUNBQyxXQUNBQyxPQXJDYSxDQUFDQyxFQUFReEMsS0FDdEJ3QyxFQUFPSCxVQUFVaEMsY0FBY0wsRUFBYXdDLEVBQU9GLFNBQVMsRUFxQzVESSxhQWxDb0JGLElBQ3BCLE1BQU1HLEVBcEJnQyxDQUFDSCxJQUN2QyxNQUFNRyxFQUE4QixHQUNwQyxJQUFLLElBQUkvSyxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDdEIsSUFBSyxJQUFJa0ksRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ29CLE9BQXRDMEMsRUFBT0gsVUFBVXJELEtBQUtwSCxHQUFHa0ksR0FBR1QsT0FBZ0JzRCxFQUE0QjlMLEtBQUssQ0FBQ2UsRUFBR2tJLElBR3pGLE9BQU82QyxDQUEyQixFQWFFQyxDQUFnQ0osR0FDOURLLEdBWHFCQyxFQVd1QkgsR0FWaENJLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdILEVBQU1wTCxTQUR6QixJQUFDb0wsRUFhM0IsT0FEQU4sRUFBT0gsVUFBVWhDLGNBQWN3QyxFQUF1QkwsRUFBT0YsVUFDdERPLENBQXFCLEVBK0I1QksseUJBNUIrQixDQUFDbEQsRUFBYXFDLEtBQzdDLElBQUljLEVBQUluRCxFQUFZLEdBQ2hCb0QsRUFBSXBELEVBQVksR0FDcEIsTUFBTXFELEVBQXVCLEdBYzdCLE9BYktGLEVBQUksRUFBSSxJQUM0QixPQUFuQ2QsRUFBVXJELEtBQUttRSxFQUFJLEdBQUdDLEdBQUcvRCxPQUFnQmdFLEVBQXFCeE0sS0FBSyxDQUFDc00sRUFBSSxFQUFHQyxJQUU1RUQsRUFBSSxHQUFLLEdBQzJCLE9BQW5DZCxFQUFVckQsS0FBS21FLEVBQUksR0FBR0MsR0FBRy9ELE9BQWdCZ0UsRUFBcUJ4TSxLQUFLLENBQUNzTSxFQUFJLEVBQUdDLElBRTVFQSxFQUFJLEVBQUksSUFDNEIsT0FBbkNmLEVBQVVyRCxLQUFLbUUsR0FBR0MsRUFBSSxHQUFHL0QsT0FBZ0JnRSxFQUFxQnhNLEtBQUssQ0FBQ3NNLEVBQUdDLEVBQUksSUFFNUVBLEVBQUksR0FBSyxHQUMyQixPQUFuQ2YsRUFBVXJELEtBQUttRSxHQUFHQyxFQUFJLEdBQUcvRCxPQUFnQmdFLEVBQXFCeE0sS0FBSyxDQUFDc00sRUFBR0MsRUFBSSxJQUcxRUMsS0ZwQkcsQ0FBZSxXQUFZbEIsRUFBWUYsR0FFdkQsSUFBSXFCLEVBQWtCLElBSXRCLE1BQU1DLEVBQWtCakksU0FBU2tJLGlCQUFpQixvQkFDMUJsSSxTQUFTbUksZUFBZSxxQkFFaENDLGlCQUFpQixTQUFTLEtBRXRDSixFQURzQixNQUFwQkEsRUFDZ0IsSUFFQSxHQUNwQixJQUdGLE1BQU1oRSxFQUFnQixDQUFDcUUsRUFBWTlJLEtBQ2pDLEdBQXdCLE1BQXBCeUksRUFBeUIsQ0FDM0IsSUFBSU0sRUFNSixPQUpFQSxFQURFL0ksRUFBUSxHQUNRQSxFQUVBZ0osU0FBU2hKLEVBQU0xRCxXQUFXMk0sTUFBTSxJQUVoREYsRUFBa0JELEVBQWEsRUFFckMsQ0FBTyxDQUNMLElBQUlJLEVBTUosT0FKRUEsRUFERWxKLEVBQVEsR0FDTSxFQUVBZ0osU0FBU2hKLEVBQU0xRCxXQUFXMk0sTUFBTSxFQUFFLElBRWhEQyxFQUFnQkosRUFBYSxFQUVuQyxHQUdJL0QsRUFBa0IvRSxJQUN0QixHQUF3QixNQUFwQnlJLEVBQXlCLENBQzNCLElBQUlNLEVBTUosT0FKRUEsRUFERS9JLEVBQVEsR0FDUUEsRUFFQWdKLFNBQVNoSixFQUFNMUQsV0FBVzJNLE1BQU0sSUFFN0MsRUFBSUYsQ0FDYixDQUFPLENBQ0wsSUFBSUcsRUFNSixPQUpFQSxFQURFbEosRUFBUSxHQUNNLEVBRUFnSixTQUFTaEosRUFBTTFELFdBQVcyTSxNQUFNLEVBQUUsSUFFN0MsRUFBSUMsQ0FDYixHQUdJQyxFQUFvQkMsSUFDeEIsTUFBTUMsRUFBZ0I1SSxTQUFTa0ksaUJBQWlCLGtCQUVoRCxJQUFJcEUsRUFFUyxJQUFUNkUsSUFDRjdFLEVBQU9zQyxHQUVJLElBQVR1QyxJQUNGN0UsRUFBT3FDLEdBRUksSUFBVHdDLElBQ0Y3RSxFQUFPb0MsR0FFSSxJQUFUeUMsSUFDRjdFLEVBQU9tQyxHQUVJLElBQVQwQyxJQUNGN0UsRUFBT2tDLEdBa0RUeEMsUUFBUUMsSUFBSSxjQUFjSyxFQUFLWixRQUMvQixJQUFJbUYsRUFBYXZFLEVBQUtiLEtBRXRCMkYsRUFBY2pGLFNBQVEsQ0FBQ0UsRUFBUXRFLEtBQzdCc0UsRUFBT3VFLGlCQUFpQixhQUFhLEtBQ25DLEdBQUtwRSxFQUFjcUUsRUFBWTlJLEdBWTdCLEdBQXdCLE1BQXBCeUksRUFBeUIsQ0FDM0IsSUFBSyxJQUFJMUwsRUFBSSxFQUFHQSxFQUFJZ0ksRUFBZS9FLEdBQVMsRUFBR2pELElBQzdDc00sRUFBY3JKLEVBQVFqRCxHQUFHc0osVUFBVUMsSUFBSSxVQUV6QyxJQUFLLElBQUlyQixFQUFJLEVBQUdBLEdBQUs2RCxHQUFjL0QsRUFBZS9FLEdBQVMsR0FBSWlGLElBQzdEb0UsRUFBY3JKLEVBQVFpRixHQUFHb0IsVUFBVUMsSUFBSSxTQUUzQyxLQUFPLENBQ0wsSUFBSyxJQUFJdkosRUFBSSxFQUFHQSxFQUFJZ0ksRUFBZS9FLEdBQVMsRUFBR2pELElBQzdDc00sRUFBY3JKLEVBQWEsR0FBSmpELEdBQVNzSixVQUFVQyxJQUFJLFVBRWhELElBQUssSUFBSXJCLEVBQUksRUFBR0EsR0FBSzZELEdBQWMvRCxFQUFlL0UsR0FBUyxHQUFJaUYsSUFDN0RvRSxFQUFjckosRUFBYSxHQUFKaUYsR0FBU29CLFVBQVVDLElBQUksU0FFbEQsTUF6QkEsR0FBd0IsTUFBcEJtQyxFQUNGLElBQUssSUFBSTFMLEVBQUksRUFBR0EsRUFBSStMLEVBQVkvTCxJQUM5QnNNLEVBQWNySixFQUFRakQsR0FBR3NKLFVBQVVDLElBQUksZUFHekMsSUFBSyxJQUFJdkosRUFBSSxFQUFHQSxFQUFJK0wsRUFBWS9MLElBQzlCc00sRUFBY3JKLEVBQWEsR0FBSmpELEdBQVNzSixVQUFVQyxJQUFJLFNBb0JwRCxHQUNBLElBR0orQyxFQUFjakYsU0FBUSxDQUFDRSxFQUFRdEUsS0FDN0JzRSxFQUFPdUUsaUJBQWlCLFlBQVksS0FDbEMsR0FBS3BFLEVBQWNxRSxFQUFZOUksR0FZN0IsR0FBd0IsTUFBcEJ5SSxFQUF5QixDQUMzQixJQUFLLElBQUkxTCxFQUFJLEVBQUdBLEVBQUlnSSxFQUFlL0UsR0FBUyxFQUFHakQsSUFDN0NzTSxFQUFjckosRUFBUWpELEdBQUdzSixVQUFVeEcsT0FBTyxVQUU1QyxJQUFLLElBQUlvRixFQUFJLEVBQUdBLEdBQUs2RCxHQUFjL0QsRUFBZS9FLEdBQVMsR0FBSWlGLElBQzdEb0UsRUFBY3JKLEVBQVFpRixHQUFHb0IsVUFBVXhHLE9BQU8sU0FFOUMsS0FBTyxDQUNMLElBQUssSUFBSTlDLEVBQUksRUFBR0EsRUFBSWdJLEVBQWUvRSxHQUFTLEVBQUdqRCxJQUM3Q3NNLEVBQWNySixFQUFhLEdBQUpqRCxHQUFTc0osVUFBVXhHLE9BQU8sVUFFbkQsSUFBSyxJQUFJb0YsRUFBSSxFQUFHQSxHQUFLNkQsR0FBYy9ELEVBQWUvRSxHQUFTLEdBQUlpRixJQUM3RG9FLEVBQWNySixFQUFhLEdBQUppRixHQUFTb0IsVUFBVXhHLE9BQU8sU0FFckQsTUF6QkEsR0FBd0IsTUFBcEI0SSxFQUNGLElBQUssSUFBSTFMLEVBQUksRUFBR0EsRUFBSStMLEVBQVkvTCxJQUM5QnNNLEVBQWNySixFQUFRakQsR0FBR3NKLFVBQVV4RyxPQUFPLGVBRzVDLElBQUssSUFBSTlDLEVBQUksRUFBR0EsRUFBSStMLEVBQVkvTCxJQUM5QnNNLEVBQWNySixFQUFhLEdBQUpqRCxHQUFTc0osVUFBVXhHLE9BQU8sU0FvQnZELEdBQ0EsSUFHSndKLEVBQWNqRixTQUFRLENBQUNFLEVBQVF0RSxLQUM3QnNFLEVBQU91RSxpQkFBaUIsU0FBVTlILElBQ2hDLE1BRU11SSxFQUZldkksRUFBRVIsT0FBT3JFLEdBQUcrTSxNQUFNLEdBQ0FNLE1BQU0sSUFDSi9NLEtBQUtnTixHQUFPUixTQUFTUSxLQUU5RCxHQUFJbkMsRUFBV3hDLGlCQUFpQk4sRUFBTStFLEVBQWdCYixHQUFrQixDQUt0RSxHQUpBcEIsRUFBVzlCLE1BQU1oQixFQUFNK0UsRUFBZ0JiLEdBQ3ZDcEIsRUFBV2xCLGtCQUNYaUQsSUFDQUssRUFBcUJKLEdBQ1IsSUFBVEQsRUFHRixNQWxJa0IsTUFDeEIsSUFBSVosRUFBdUIsR0FFM0JFLEVBQWdCdEUsU0FBU0UsSUFDdkJBLEVBQU91RSxpQkFBaUIsU0FBVTlILElBQ2hDLE1BRU11SSxFQUZldkksRUFBRVIsT0FBT3JFLEdBQUcrTSxNQUFNLElBQ0FNLE1BQU0sSUFDSi9NLEtBQUtnTixHQUFPUixTQUFTUSxLQUM5RCxJQUEwRSxJQUF2RTVCLEVBQVFKLFVBQVVyRCxLQUFLbUYsRUFBZSxJQUFJQSxFQUFlLElBQUk5RSxRQUNXLElBQXZFb0QsRUFBUUosVUFBVXJELEtBQUttRixFQUFlLElBQUlBLEVBQWUsSUFBSTlFLE1BU2pFLEdBUkErQyxFQUFRRyxPQUFPRSxFQUFTMEIsR0FDeEIxQixFQUFRSixVQUFVaEIsVUFBVThDLEdBQ3hCMUIsRUFBUUosVUFBVXRDLFNBQVNvRSxJQUNoQmxDLEVBQVV2QixNQUFNdEIsR0FBU0EsRUFBS1osT0FBU2lFLEVBQVFKLFVBQVVyRCxLQUFLbUYsRUFBZSxJQUFJQSxFQUFlLElBQUkvRSxPQUM1R1IsU0FFUHVELEVBQVduQixpQkFBZ0IsSUFFWSxJQUFuQ3lCLEVBQVFKLFVBQVUxQixhQUNwQjdCLFFBQVFDLElBQUksaUNBQ1AsQ0FDTCxHQUFvQyxJQUFoQ3NFLEVBQXFCM0wsT0FBYyxDQUNyQyxNQUFNNk0sRUFBc0I5QixFQUFRQyxhQUFhTixJQUNvQyxJQUFqRkEsRUFBUUMsVUFBVXJELEtBQUt1RixFQUFvQixJQUFJQSxFQUFvQixJQUFJbEYsUUFDekVnRSxFQUF3QlosRUFBUVMseUJBQXlCcUIsRUFBcUJuQyxFQUFRQyxXQUUxRixNQUNFSSxFQUFRRixPQUFPSCxFQUFTaUIsRUFBcUIsS0FDZ0QsSUFBekZqQixFQUFRQyxVQUFVckQsS0FBS3FFLEVBQXFCLEdBQUcsSUFBSUEsRUFBcUIsR0FBRyxJQUFJaEUsT0FHakRvRCxFQUFRUyx5QkFBeUJHLEVBQXFCLEdBQUlqQixFQUFRQyxXQUMxRXBELFNBQVNFLElBQ3pCeEcsS0FBS0MsVUFBVXlLLEdBQXNCeEUsU0FBU2xHLEtBQUtDLFVBQVV1RyxLQUFXa0UsRUFBcUJ4TSxLQUFLc0ksRUFBTyxJQUpqSGtFLEVBQXFCbUIsUUFTekJ0QyxFQUFXbEIsaUJBQWdCLElBQ2MsSUFBbkNvQixFQUFRQyxVQUFVMUIsY0FDcEI3QixRQUFRQyxJQUFJLDRCQUVsQixJQUNELEdBQ0YsRUFvRkswRixRQUNBM0YsUUFBUUMsSUFBSSw4Q0FHZGlGLEVBQWlCQyxFQUNuQixLQUdGOUUsRUFBT3VFLGlCQUFpQixhQUFjOUgsSUFDcEMsTUFBTThJLEVBQWU5SSxFQUFFUixPQUFPckUsR0FBRytNLE1BQU0sR0FFakNLLEVBRG9CTyxFQUFhTixNQUFNLElBQ0ovTSxLQUFLZ04sR0FBT1IsU0FBU1EsS0FFOUQsR0FBSy9FLEVBQWNxRSxFQUFZOUksSUFnQzdCLEdBQXdCLE1BQXBCeUksR0FDRixJQUEyRSxJQUF2RXBCLEVBQVd4QyxpQkFBaUJOLEVBQU0rRSxFQUFnQmIsR0FBNEIsQ0FDaEYsSUFBSyxJQUFJMUwsRUFBSSxFQUFHQSxFQUFJZ0ksRUFBZS9FLEdBQVMsRUFBR2pELElBQUssQ0FDbEQsSUFBSXdKLEVBRUZBLEVBREV5QyxTQUFTYSxHQUFnQixHQUNYcEosU0FBU0MsY0FBYyxZQUFZc0ksU0FBU2EsR0FBZ0I5TSxLQUU1RDBELFNBQVNDLGNBQWMsV0FBV3NJLFNBQVNhLEdBQWdCOU0sS0FFN0V3SixFQUFjakcsTUFBTXdKLFdBQWEsTUFDbkMsQ0FDQSxJQUFLLElBQUk3RSxFQUFJLEVBQUdBLEdBQUs2RCxHQUFjL0QsRUFBZS9FLEdBQVMsR0FBSWlGLElBQUssQ0FDbEUsSUFBSXNCLEVBRUZBLEVBREV5QyxTQUFTYSxHQUFnQixHQUNYcEosU0FBU0MsY0FBYyxhQUFZc0ksU0FBU2EsR0FBZ0I1RSxJQUU1RHhFLFNBQVNDLGNBQWMsWUFBV3NJLFNBQVNhLEdBQWdCNUUsSUFFN0VzQixFQUFjakcsTUFBTXdKLFdBQWEsTUFDbkMsQ0FDRixPQUVBLElBQTJFLElBQXZFekMsRUFBV3hDLGlCQUFpQk4sRUFBTStFLEVBQWdCYixHQUE0QixDQUNoRixJQUFLLElBQUkxTCxFQUFJLEVBQUdBLEVBQUlnSSxFQUFlL0UsR0FBUyxFQUFHakQsSUFBSyxDQUNsRCxJQUFJd0osRUFHQUEsRUFGQXlDLFNBQVNhLEdBQWdCLElBQ2pCLElBQU45TSxFQUNjMEQsU0FBU0MsY0FBYyxZQUFZc0ksU0FBU2EsR0FBcUIsR0FBSjlNLEtBSy9EMEQsU0FBU0MsY0FBYyxXQUFXc0ksU0FBU2EsR0FBcUIsR0FBSjlNLEtBRTlFd0osRUFBY2pHLE1BQU13SixXQUFhLE1BQ25DLENBQ0EsSUFBSyxJQUFJN0UsRUFBSSxFQUFHQSxHQUFLNkQsR0FBYy9ELEVBQWUvRSxHQUFTLEdBQUlpRixJQUFLLENBQ2xFLElBQUlzQixFQUdBQSxFQUZBeUMsU0FBU2EsR0FBZ0IsSUFDakIsSUFBTjVFLEVBQ2N4RSxTQUFTQyxjQUFjLGFBQVlzSSxTQUFTYSxHQUFxQixHQUFKNUUsSUFLL0R4RSxTQUFTQyxjQUFjLFlBQVdzSSxTQUFTYSxHQUFxQixHQUFKNUUsSUFFOUVzQixFQUFjakcsTUFBTXdKLFdBQWEsTUFDbkMsQ0FDRixPQWhGRixHQUF3QixNQUFwQnJCLEdBQ0YsSUFBMkUsSUFBdkVwQixFQUFXeEMsaUJBQWlCTixFQUFNK0UsRUFBZ0JiLEdBQ3BELElBQUssSUFBSTFMLEVBQUksRUFBR0EsRUFBSStMLEVBQVkvTCxJQUFLLENBQ25DLElBQUl3SixFQUVGQSxFQURFeUMsU0FBU2EsR0FBZ0IsR0FDWHBKLFNBQVNDLGNBQWMsWUFBWXNJLFNBQVNhLEdBQWdCOU0sS0FFNUQwRCxTQUFTQyxjQUFjLFdBQVdzSSxTQUFTYSxHQUFnQjlNLEtBRTdFd0osRUFBY2pHLE1BQU13SixXQUFhLE1BQ25DLE9BR0YsSUFBMkUsSUFBdkV6QyxFQUFXeEMsaUJBQWlCTixFQUFNK0UsRUFBZ0JiLEdBQ3BELElBQUssSUFBSTFMLEVBQUksRUFBR0EsRUFBSStMLEVBQVkvTCxJQUFLLENBQ25DLElBQUl3SixFQUdBQSxFQUZBeUMsU0FBU2EsR0FBZ0IsSUFDakIsSUFBTjlNLEVBQ2MwRCxTQUFTQyxjQUFjLFlBQVlzSSxTQUFTYSxHQUFxQixHQUFKOU0sS0FLL0QwRCxTQUFTQyxjQUFjLFdBQVdzSSxTQUFTYSxHQUFxQixHQUFKOU0sS0FFOUV3SixFQUFjakcsTUFBTXdKLFdBQWEsTUFDbkMsQ0F3RE4sSUFHRnhGLEVBQU91RSxpQkFBaUIsWUFBYTlILElBQ25DLE1BQU04SSxFQUFlOUksRUFBRVIsT0FBT3JFLEdBQUcrTSxNQUFNLEdBRWpDSyxFQURvQk8sRUFBYU4sTUFBTSxJQUNKL00sS0FBS2dOLEdBQU9SLFNBQVNRLEtBRTlELEdBQUsvRSxFQUFjcUUsRUFBWTlJLElBZ0M3QixHQUF3QixNQUFwQnlJLEdBQ0YsSUFBK0UsSUFBM0VwQixFQUFXeEMsaUJBQWlCNEIsRUFBVTZDLEVBQWdCYixHQUE0QixDQUNwRixJQUFLLElBQUkxTCxFQUFJLEVBQUdBLEVBQUlnSSxFQUFlL0UsR0FBUyxFQUFHakQsSUFBSyxDQUNsRCxJQUFJd0osRUFFRkEsRUFERXlDLFNBQVNhLEdBQWdCLEdBQ1hwSixTQUFTQyxjQUFjLFlBQVlzSSxTQUFTYSxHQUFnQjlNLEtBRTVEMEQsU0FBU0MsY0FBYyxXQUFXc0ksU0FBU2EsR0FBZ0I5TSxLQUU3RXdKLEVBQWNqRyxNQUFNd0osV0FBYSxFQUNuQyxDQUNBLElBQUssSUFBSTdFLEVBQUksRUFBR0EsR0FBSzZELEdBQWMvRCxFQUFlL0UsR0FBUyxHQUFJaUYsSUFBSyxDQUNsRSxJQUFJc0IsRUFFRkEsRUFERXlDLFNBQVNhLEdBQWdCLEdBQ1hwSixTQUFTQyxjQUFjLGFBQVlzSSxTQUFTYSxHQUFnQjVFLElBRTVEeEUsU0FBU0MsY0FBYyxZQUFXc0ksU0FBU2EsR0FBZ0I1RSxJQUU3RXNCLEVBQWNqRyxNQUFNd0osV0FBYSxFQUNuQyxDQUNGLE9BRUEsSUFBK0UsSUFBM0V6QyxFQUFXeEMsaUJBQWlCNEIsRUFBVTZDLEVBQWdCYixHQUE0QixDQUNwRixJQUFLLElBQUkxTCxFQUFJLEVBQUdBLEVBQUlnSSxFQUFlL0UsR0FBUyxFQUFHakQsSUFBSyxDQUNsRCxJQUFJd0osRUFHQUEsRUFGQXlDLFNBQVNhLEdBQWdCLElBQ2pCLElBQU45TSxFQUNjMEQsU0FBU0MsY0FBYyxZQUFZc0ksU0FBU2EsR0FBcUIsR0FBSjlNLEtBSy9EMEQsU0FBU0MsY0FBYyxXQUFXc0ksU0FBU2EsR0FBcUIsR0FBSjlNLEtBRTlFd0osRUFBY2pHLE1BQU13SixXQUFhLEVBQ25DLENBQ0EsSUFBSyxJQUFJN0UsRUFBSSxFQUFHQSxHQUFLNkQsR0FBYy9ELEVBQWUvRSxHQUFTLEdBQUlpRixJQUFLLENBQ2xFLElBQUlzQixFQUdBQSxFQUZBeUMsU0FBU2EsR0FBZ0IsSUFDakIsSUFBTjVFLEVBQ2N4RSxTQUFTQyxjQUFjLGFBQVlzSSxTQUFTYSxHQUFxQixHQUFKNUUsSUFLL0R4RSxTQUFTQyxjQUFjLFlBQVdzSSxTQUFTYSxHQUFxQixHQUFKNUUsSUFFOUVzQixFQUFjakcsTUFBTXdKLFdBQWEsRUFDbkMsQ0FDRixPQWhGRixHQUF3QixNQUFwQnJCLEdBQ0YsSUFBK0UsSUFBM0VwQixFQUFXeEMsaUJBQWlCNEIsRUFBVTZDLEVBQWdCYixHQUN4RCxJQUFLLElBQUkxTCxFQUFJLEVBQUdBLEVBQUkrTCxFQUFZL0wsSUFBSyxDQUNuQyxJQUFJd0osRUFFRkEsRUFERXlDLFNBQVNhLEdBQWdCLEdBQ1hwSixTQUFTQyxjQUFjLFlBQVlzSSxTQUFTYSxHQUFnQjlNLEtBRTVEMEQsU0FBU0MsY0FBYyxXQUFXc0ksU0FBU2EsR0FBZ0I5TSxLQUU3RXdKLEVBQWNqRyxNQUFNd0osV0FBYSxFQUNuQyxPQUdGLElBQStFLElBQTNFekMsRUFBV3hDLGlCQUFpQjRCLEVBQVU2QyxFQUFnQmIsR0FDeEQsSUFBSyxJQUFJMUwsRUFBSSxFQUFHQSxFQUFJK0wsRUFBWS9MLElBQUssQ0FDbkMsSUFBSXdKLEVBR0FBLEVBRkF5QyxTQUFTYSxHQUFnQixJQUNqQixJQUFOOU0sRUFDYzBELFNBQVNDLGNBQWMsWUFBWXNJLFNBQVNhLEdBQXFCLEdBQUo5TSxLQUsvRDBELFNBQVNDLGNBQWMsV0FBV3NJLFNBQVNhLEdBQXFCLEdBQUo5TSxLQUU5RXdKLEVBQWNqRyxNQUFNd0osV0FBYSxFQUNuQyxDQXdETixHQUNBLEdBQ0gsRUFHR0wsRUFBd0JKLElBQzVCQSxFQUFjakYsU0FBUzJGLElBQ3JCLE1BQU1DLEVBQVlELEVBQVVFLFdBQVUsR0FDdENGLEVBQVVsSSxXQUFXcUksYUFBYUYsRUFBV0QsRUFBVSxHQUN4RCxFQXFDSFosRUFBaUIsR0FsQ1MsTUFDeEIsTUFBTWdCLEVBQXVCbEMsR0FFcEJBLEVBRFdDLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdILEVBQU1wTCxTQUlyRHVLLEVBQVVoRCxTQUFTRyxJQUNqQixJQUFJNkYsR0FBZSxFQUNuQixNQUFNQyxFQUFjLEdBQ3BCLElBQUssSUFBSXROLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUN0QixJQUFLLElBQUlrSSxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDYSxPQUEvQnFDLEVBQVduRCxLQUFLcEgsR0FBR2tJLEdBQUdWLE1BQWU4RixFQUFZck8sS0FBSyxDQUFDZSxFQUFFa0ksSUFHakUsSUFBSXFGLEVBQ3FDQSxFQUFILElBQWxDcEMsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBQXVDLElBQ3BDLElBQ3ZCLElBQUltQyxFQUFjSixFQUFvQkUsR0FHdEMsTUFBdUIsSUFBakJELEdBQ0E5QyxFQUFXekMsaUJBQWlCTixFQUFNZ0csRUFBYUQsSUFDakRoRCxFQUFXL0IsTUFBTWhCLEVBQU1nRyxFQUFhRCxHQUNwQ0YsR0FBZSxJQUVmRyxFQUFjSixFQUFvQkUsR0FDT0MsRUFBSCxJQUFsQ3BDLEtBQUtDLE1BQXNCLEVBQWhCRCxLQUFLRSxVQUF1QyxJQUNwQyxJQUUzQixHQUNELEVBS0hvQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wdXRlcnBsYXllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIioge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGJveC1zaXppbmc6IGluaGVyaXQ7XFxuICB9XFxuICBcXG4gIGh0bWwge1xcbiAgICBmb250LXNpemU6IDYyLjUlO1xcbiAgfVxcbiAgXFxuICBib2R5IHtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM1MzUzNTtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGZvbnQtc2l6ZTogMS42cmVtO1xcbiAgICBmb250LXdlaWdodDogMzAwO1xcbiAgICBmb250LWZhbWlseTogXFxcIk5vdG8gU2Fuc1xcXCIsIHNhbnMtc2VyaWY7XFxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIH1cXG4gIFxcbiAgaDEsIGgyIHtcXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgICBmb250LXdlaWdodDogaW5oZXJpdDtcXG4gIH1cXG4gIFxcbiAgLmhlYWRpbmctcHJpbWFyeSB7XFxuICAgIGZvbnQtc2l6ZTogNHJlbTtcXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcXG4gIH1cXG4gIFxcbiAgLmhlYWRpbmctc2Vjb25kYXJ5IHtcXG4gICAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xcbiAgICBmb250LXNpemU6IDNyZW07XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIH1cXG4gIFxcbiAgLnBsYXllci1yb3RhdGUtYnRuIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIHJpZ2h0OiAwcmVtO1xcbiAgICBwYWRkaW5nOiAxcmVtO1xcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgICBmb250LXdlaWdodDogNDAwO1xcbiAgICBjb2xvcjogaW5oZXJpdDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICB3aWR0aDogNXJlbTtcXG4gICAgaGVpZ2h0OiA1cmVtO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIH1cXG4gIC5wbGF5ZXItcm90YXRlLWJ0bjpob3ZlciB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xcbiAgfVxcbiAgXFxuICAuZ3JpZC1jb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgfVxcbiAgXFxuICAucGxheWVyMS1pbnRlcmZhY2UsXFxuICAucGxheWVyMi1pbnRlcmZhY2Uge1xcbiAgICBtYXJnaW46IDJyZW0gNnJlbTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgfVxcbiAgXFxuICAuZ3JpZCB7XFxuICAgIGhlaWdodDogNDByZW07XFxuICAgIHdpZHRoOiA0MHJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI4NGI2MztcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDFmcik7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAxZnIpO1xcbiAgfVxcbiAgXFxuICAuc3F1YXJlIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDtcXG4gIH1cXG4gIC5zcXVhcmU6aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICB9XFxuICBcXG4gIC5jb21wdXRlci1zcXVhcmU6aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2M2ZTcxO1xcbiAgfVxcbiAgXFxuICAuc2hhZG93IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xcbiAgfVxcbiAgXFxuICAucmVkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgfVxcbiAgXFxuICAuZ3JlZW4ge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcXG4gIH1cXG4gIFxcbiAgLndoaXRlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICB9XFxuICBcXG4gIC5ncmV5OmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcXG4gIH1cXG4gIFxcbiAgLyojIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmNzcy5tYXAgKi9cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDVixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxzQkFBc0I7SUFDdEIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG9DQUFvQztJQUNwQyxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsdUJBQXVCO0VBQ3pCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLG9CQUFvQjtFQUN0Qjs7RUFFQTtJQUNFLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLHFCQUFxQjtJQUNyQixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFdBQVc7SUFDWCxhQUFhO0lBQ2Isb0JBQW9CO0lBQ3BCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLDZCQUE2QjtJQUM3QixTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7RUFDckI7RUFDQTtJQUNFLGVBQWU7SUFDZixvQ0FBb0M7RUFDdEM7O0VBRUE7SUFDRSxhQUFhO0VBQ2Y7O0VBRUE7O0lBRUUsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixzQ0FBc0M7SUFDdEMsbUNBQW1DO0VBQ3JDOztFQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCO0VBQ0E7SUFDRSxlQUFlO0VBQ2pCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0Usd0JBQXdCO0VBQzFCOztFQUVBO0lBQ0UscUJBQXFCO0VBQ3ZCOztFQUVBO0lBQ0UsdUJBQXVCO0VBQ3pCOztFQUVBO0lBQ0UsdUJBQXVCO0VBQ3pCOztFQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCOztFQUVBLHFDQUFxQ1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xcbiAgfVxcbiAgXFxuICBodG1sIHtcXG4gICAgZm9udC1zaXplOiA2Mi41JTtcXG4gIH1cXG4gIFxcbiAgYm9keSB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzNTM1MzU7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBmb250LXNpemU6IDEuNnJlbTtcXG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJOb3RvIFNhbnNcXFwiLCBzYW5zLXNlcmlmO1xcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB9XFxuICBcXG4gIGgxLCBoMiB7XFxuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XFxuICB9XFxuICBcXG4gIC5oZWFkaW5nLXByaW1hcnkge1xcbiAgICBmb250LXNpemU6IDRyZW07XFxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XFxuICAgIGxldHRlci1zcGFjaW5nOiAxcHg7XFxuICB9XFxuICBcXG4gIC5oZWFkaW5nLXNlY29uZGFyeSB7XFxuICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcXG4gICAgZm9udC1zaXplOiAzcmVtO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB9XFxuICBcXG4gIC5wbGF5ZXItcm90YXRlLWJ0biB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMHJlbTtcXG4gICAgcGFkZGluZzogMXJlbTtcXG4gICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gICAgY29sb3I6IGluaGVyaXQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXI6IDA7XFxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgd2lkdGg6IDVyZW07XFxuICAgIGhlaWdodDogNXJlbTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB9XFxuICAucGxheWVyLXJvdGF0ZS1idG46aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gIH1cXG4gIFxcbiAgLmdyaWQtY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gIH1cXG4gIFxcbiAgLnBsYXllcjEtaW50ZXJmYWNlLFxcbiAgLnBsYXllcjItaW50ZXJmYWNlIHtcXG4gICAgbWFyZ2luOiAycmVtIDZyZW07XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIH1cXG4gIFxcbiAgLmdyaWQge1xcbiAgICBoZWlnaHQ6IDQwcmVtO1xcbiAgICB3aWR0aDogNDByZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyODRiNjM7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIH1cXG4gIFxcbiAgLnNxdWFyZSB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XFxuICB9XFxuICAuc3F1YXJlOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgfVxcbiAgXFxuICAuY29tcHV0ZXItc3F1YXJlOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzNjNmU3MTtcXG4gIH1cXG4gIFxcbiAgLnNoYWRvdyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcXG4gIH1cXG4gIFxcbiAgLnJlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gIH1cXG4gIFxcbiAgLmdyZWVuIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxuICB9XFxuICBcXG4gIC53aGl0ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgfVxcbiAgXFxuICAuZ3JleTpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XFxuICB9XFxuICBcXG4gIC8qIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5jc3MubWFwICovXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJjb25zdCBTaGlwID0gKHNpemUsIG5hbWUpID0+IHtcbiAgICAvLyBjbG9zdXJlICFcbiAgICBsZXQgcG9zaXRpb25zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIHBvc2l0aW9ucy5wdXNoKDApO1xuICAgIH1cbiAgICBjb25zdCBoaXQgPSAocG9zaXRpb25JbmRleCkgPT4ge1xuICAgICAgcG9zaXRpb25zW3Bvc2l0aW9uSW5kZXhdID0gMTtcbiAgICB9XG4gICAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9ucy5pbmNsdWRlcygwKSkgcmV0dXJuIGZhbHNlXG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYCR7bmFtZX0gU3VuayFgKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIHJldHVybiB7XG4gICAgICBzaXplLFxuICAgICAgbmFtZSxcbiAgICAgIHBvc2l0aW9ucyxcbiAgICAgIGhpdCxcbiAgICAgIGlzU3Vua1xuICAgIH1cbiAgfVxuICBcbiAgZXhwb3J0IGRlZmF1bHQgU2hpcCIsImNvbnN0IEdhbWVib2FyZCA9ICgpID0+IHtcbiAgY29uc3QgZ3JpZCA9IFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dO1xuXG4gIGdyaWQuZm9yRWFjaCgocm93LCBpbmRleCkgPT4ge1xuICAgIHJvdy5mb3JFYWNoKChzcXVhcmUsIGluZGV4KSA9PiB7XG4gICAgICByb3dbaW5kZXhdID0geyBzaGlwOiBudWxsLCBpc0hpdDogbnVsbH07XG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBpc0Nsb3NlVG9FZGdlID0gKHNoaXAsIHN0YXJ0UG9zaXRpb24sIGRpcmVjdGlvbikgPT4ge1xuICAgIGNvbnN0IHN0YXJ0aW5nWVBvc2l0aW9uID0gc3RhcnRQb3NpdGlvblswXTtcbiAgICBjb25zdCBzdGFydGluZ1hQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb25bMV07XG4gICAgaWYgKHN0YXJ0aW5nWFBvc2l0aW9uICsgc2hpcC5zaXplID4gMTAgJiYgZGlyZWN0aW9uID09PSAneCcpIHJldHVybiB0cnVlXG4gICAgZWxzZSBpZiAoc3RhcnRpbmdZUG9zaXRpb24gKyBzaGlwLnNpemUgPiAxMCAmJiBkaXJlY3Rpb24gPT09ICd5JykgcmV0dXJuIHRydWVcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGlzVmFsaWRQbGFjZW1lbnQgPSAoc2hpcCwgc3RhcnRQb3NpdGlvbiwgZGlyZWN0aW9uKSA9PiB7XG4gICAgY29uc3Qgc3RhcnRpbmdZUG9zaXRpb24gPSBzdGFydFBvc2l0aW9uWzBdO1xuICAgIGNvbnN0IHN0YXJ0aW5nWFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvblsxXTtcbiAgICBpZighaXNDbG9zZVRvRWRnZShzaGlwLCBzdGFydFBvc2l0aW9uLCBkaXJlY3Rpb24pKSB7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAneCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLnNpemU7IGkrKykge1xuICAgICAgICAgIGlmIChncmlkW3N0YXJ0aW5nWVBvc2l0aW9uXVtzdGFydGluZ1hQb3NpdGlvbiArIGldLnNoaXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaXplOyBpKyspIHtcbiAgICAgICAgICBpZiAoZ3JpZFtzdGFydGluZ1lQb3NpdGlvbiArIGldW3N0YXJ0aW5nWFBvc2l0aW9uXS5zaGlwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9lZGdlIGNhc2VcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZVRvRWRnZSA9IDkgLSBzdGFydGluZ1hQb3NpdGlvbjtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU3BvdHNUb1BsYWNlID0gc2hpcC5zaXplIC0gKGRpc3RhbmNlVG9FZGdlICsgMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRpc3RhbmNlVG9FZGdlOyBpKyspIHtcbiAgICAgICAgICBpZiAoZ3JpZFtzdGFydGluZ1lQb3NpdGlvbl1bc3RhcnRpbmdYUG9zaXRpb24gKyBpXS5zaGlwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IHJlbWFpbmluZ1Nwb3RzVG9QbGFjZTsgaisrKSB7XG4gICAgICAgICAgaWYgKGdyaWRbc3RhcnRpbmdZUG9zaXRpb25dW3N0YXJ0aW5nWFBvc2l0aW9uIC0gal0uc2hpcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb0VkZ2UgPSA5IC0gc3RhcnRpbmdZUG9zaXRpb247XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1Nwb3RzVG9QbGFjZSA9IHNoaXAuc2l6ZSAtIChkaXN0YW5jZVRvRWRnZSArIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBkaXN0YW5jZVRvRWRnZTsgaSsrKSB7XG4gICAgICAgICAgaWYgKGdyaWRbc3RhcnRpbmdZUG9zaXRpb24gKyBpXVtzdGFydGluZ1hQb3NpdGlvbl0uc2hpcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSByZW1haW5pbmdTcG90c1RvUGxhY2U7IGorKykge1xuICAgICAgICAgIGlmIChncmlkW3N0YXJ0aW5nWVBvc2l0aW9uIC0gal1bc3RhcnRpbmdYUG9zaXRpb25dLnNoaXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBcbiAgY29uc3QgcGxhY2UgPSAoc2hpcCwgc3RhcnRQb3NpdGlvbiwgZGlyZWN0aW9uKSA9PiB7XG4gICAgY29uc3Qgc3RhcnRpbmdZUG9zaXRpb24gPSBzdGFydFBvc2l0aW9uWzBdO1xuICAgIGNvbnN0IHN0YXJ0aW5nWFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvblsxXTtcblxuICAgIGlmIChpc1ZhbGlkUGxhY2VtZW50KHNoaXAsIHN0YXJ0UG9zaXRpb24sIGRpcmVjdGlvbikgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICBpZighaXNDbG9zZVRvRWRnZShzaGlwLCBzdGFydFBvc2l0aW9uLCBkaXJlY3Rpb24pKXtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgZ3JpZFtzdGFydGluZ1lQb3NpdGlvbl1bc3RhcnRpbmdYUG9zaXRpb24gKyBpXS5zaGlwID0gc2hpcC5uYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgZ3JpZFtzdGFydGluZ1lQb3NpdGlvbiArIGldW3N0YXJ0aW5nWFBvc2l0aW9uXS5zaGlwID0gc2hpcC5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZVRvRWRnZSA9IDkgLSBzdGFydGluZ1hQb3NpdGlvbjtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU3BvdHNUb1BsYWNlID0gc2hpcC5zaXplIC0gKGRpc3RhbmNlVG9FZGdlICsgMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRpc3RhbmNlVG9FZGdlOyBpKyspIHtcbiAgICAgICAgICBncmlkW3N0YXJ0aW5nWVBvc2l0aW9uXVtzdGFydGluZ1hQb3NpdGlvbiArIGldLnNoaXAgPSBzaGlwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPD0gcmVtYWluaW5nU3BvdHNUb1BsYWNlOyBqKyspIHtcbiAgICAgICAgICBncmlkW3N0YXJ0aW5nWVBvc2l0aW9uXVtzdGFydGluZ1hQb3NpdGlvbiAtIGpdLnNoaXAgPSBzaGlwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9FZGdlID0gOSAtIHN0YXJ0aW5nWVBvc2l0aW9uO1xuICAgICAgICBjb25zdCByZW1haW5pbmdTcG90c1RvUGxhY2UgPSBzaGlwLnNpemUgLSAoZGlzdGFuY2VUb0VkZ2UgKyAxKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gZGlzdGFuY2VUb0VkZ2U7IGkrKykge1xuICAgICAgICAgIGdyaWRbc3RhcnRpbmdZUG9zaXRpb24gKyBpXVtzdGFydGluZ1hQb3NpdGlvbl0uc2hpcCA9IHNoaXAubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSByZW1haW5pbmdTcG90c1RvUGxhY2U7IGorKykge1xuICAgICAgICAgIGdyaWRbc3RhcnRpbmdZUG9zaXRpb24gLSBqXVtzdGFydGluZ1hQb3NpdGlvbl0uc2hpcCA9IHNoaXAubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JpZDtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrSGl0ID0gKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgaWYgKGdyaWRbY29vcmRpbmF0ZXNbMF1dW2Nvb3JkaW5hdGVzWzFdXS5zaGlwKSByZXR1cm4gdHJ1ZVxuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gcmV0dXJuIHRydWUgaWYgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlXG4gIGNvbnN0IGNvbXBhcmVBcnJheSA9IChhcnJheTEsIGFycmF5MikgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGNvb3JkaW5hdGVzLCBsaXN0T2ZTaGlwcykgPT4ge1xuICAgIGlmIChjaGVja0hpdChjb29yZGluYXRlcykgPT09IHRydWUpIHtcbiAgICAgIGdyaWRbY29vcmRpbmF0ZXNbMF1dW2Nvb3JkaW5hdGVzWzFdXS5pc0hpdCA9IHRydWU7XG4gICAgICBjb25zdCBzaGlwTmFtZSA9IGdyaWRbY29vcmRpbmF0ZXNbMF1dW2Nvb3JkaW5hdGVzWzFdXS5zaGlwO1xuICAgICAgY29uc3QgY29vcmRpbmF0ZXNMaXN0ID0gW107XG4gICAgICBsZXQgaW5kZXhPZkhpdDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgICBpZiAoZ3JpZFtpXVtqXS5zaGlwID09PSBzaGlwTmFtZSkgY29vcmRpbmF0ZXNMaXN0LnB1c2goW2ksal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3JkaW5hdGVzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29tcGFyZUFycmF5KGNvb3JkaW5hdGVzLCBjb29yZGluYXRlc0xpc3RbaV0pKSBpbmRleE9mSGl0ID0gaTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNoaXAgPSBsaXN0T2ZTaGlwcy5maW5kKHNoaXAgPT4gc2hpcC5uYW1lID09PSBzaGlwTmFtZSk7XG4gICAgICBzaGlwLmhpdChpbmRleE9mSGl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3JpZFtjb29yZGluYXRlc1swXV1bY29vcmRpbmF0ZXNbMV1dLmlzSGl0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0U2hpcFNxdWFyZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2hpcFNxdWFyZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICBpZiAoZ3JpZFtpXVtqXS5zaGlwKSBzaGlwU3F1YXJlcy5wdXNoKGdyaWRbaV1bal0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2hpcFNxdWFyZXM7XG4gIH1cblxuICBjb25zdCBpc0dhbWVPdmVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHNoaXBTcXVhcmVzID0gZ2V0U2hpcFNxdWFyZXMoKTtcbiAgICBsZXQgZm91bmRMaXZlU2hpcDtcbiAgICBzaGlwU3F1YXJlcy5mb3JFYWNoKChzaGlwU3F1YXJlKSA9PiB7XG4gICAgICBpZiAoc2hpcFNxdWFyZS5pc0hpdCA9PT0gbnVsbCkge1xuICAgICAgICBmb3VuZExpdmVTaGlwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmKGZvdW5kTGl2ZVNoaXAgPT09IHRydWUpIHJldHVybiBmYWxzZVxuICAgIGVsc2UgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckdhbWVib2FyZCA9IChpc0NvbXB1dGVyUGxheWVyID0gZmFsc2UpID0+IHtcbiAgICBpZiAoaXNDb21wdXRlclBsYXllciA9PT0gdHJ1ZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKyl7XG4gICAgICAgICAgaWYgKGdyaWRbaV1bal0uaXNIaXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY29tcHV0ZXItc3F1YXJlLSR7aX0ke2p9YCk7XG4gICAgICAgICAgICBzcXVhcmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dyZWVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChncmlkW2ldW2pdLmlzSGl0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3Qgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjb21wdXRlci1zcXVhcmUtJHtpfSR7an1gKTtcbiAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncmVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspe1xuICAgICAgICAgIGlmIChncmlkW2ldW2pdLnNoaXApIHtcbiAgICAgICAgICAgIGNvbnN0IHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7aX0ke2p9YCk7XG4gICAgICAgICAgICBzcXVhcmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3doaXRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChncmlkW2ldW2pdLmlzSGl0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0ke2l9JHtqfWApO1xuICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd3aGl0ZScpO1xuICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdncmVlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ3JpZFtpXVtqXS5pc0hpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7aX0ke2p9YCk7XG4gICAgICAgICAgICBzcXVhcmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGxvZ0F0dGFjayA9IChjb29yZGluYXRlcykgPT4ge1xuICAgIGlmIChjaGVja0hpdChjb29yZGluYXRlcykgPT09IHRydWUpIGNvbnNvbGUubG9nKCdIaXQhJyk7XG4gICAgZWxzZSBjb25zb2xlLmxvZygnTWlzc2VkJyk7XG4gIH1cblxuXG4gIHJldHVybiB7XG4gICAgZ3JpZCxcbiAgICBwbGFjZSxcbiAgICBjaGVja0hpdCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIGlzR2FtZU92ZXIsXG4gICAgcmVuZGVyR2FtZWJvYXJkLFxuICAgIGlzVmFsaWRQbGFjZW1lbnQsXG4gICAgbG9nQXR0YWNrXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZWJvYXJkIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcC5qc1wiO1xuaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmQuanNcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vcGxheWVyLmpzXCI7XG5pbXBvcnQgQ29tcHV0ZXJQbGF5ZXIgZnJvbSBcIi4vY29tcHV0ZXJwbGF5ZXIuanNcIjtcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG5jb25zdCBjYXJyaWVyMSA9IFNoaXAoNSwgJ2NhcnJpZXInKTtcbmNvbnN0IGJhdHRsZXNoaXAxID0gU2hpcCg0LCAnYmF0dGxlc2hpcCcpO1xuY29uc3QgZGVzdHJveWVyMSA9IFNoaXAoMywgJ2Rlc3Ryb3llcicpO1xuY29uc3Qgc3VibWFyaW5lMSA9IFNoaXAoMywgJ3N1Ym1hcmluZScpO1xuY29uc3QgcGF0cm9sMSA9IFNoaXAoMiwgJ3BhdHJvbCcpO1xuXG5jb25zdCBjYXJyaWVyMiA9IFNoaXAoNSwgJ0NhcnJpZXInKTtcbmNvbnN0IGJhdHRsZXNoaXAyID0gU2hpcCg0LCAnQmF0dGxlc2hpcCcpO1xuY29uc3QgZGVzdHJveWVyMiA9IFNoaXAoMywgJ0Rlc3Ryb3llcicpO1xuY29uc3Qgc3VibWFyaW5lMiA9IFNoaXAoMywgJ1N1Ym1hcmluZScpO1xuY29uc3QgcGF0cm9sMiA9IFNoaXAoMiwgJ1BhdHJvbCcpO1xuXG5jb25zdCBzaGlwTGlzdDEgPSBbY2FycmllcjEsIGJhdHRsZXNoaXAxLCBkZXN0cm95ZXIxLCBzdWJtYXJpbmUxLCBwYXRyb2wxXTtcbmNvbnN0IHNoaXBMaXN0MiA9IFtjYXJyaWVyMiwgYmF0dGxlc2hpcDIsIGRlc3Ryb3llcjIsIHN1Ym1hcmluZTIsIHBhdHJvbDJdO1xuXG5jb25zdCBnYW1lYm9hcmQxID0gR2FtZWJvYXJkKCk7XG5jb25zdCBnYW1lYm9hcmQyID0gR2FtZWJvYXJkKCk7XG5cbmNvbnN0IHBsYXllcjEgPSBQbGF5ZXIoJ1BsYXllciAxJywgZ2FtZWJvYXJkMSwgc2hpcExpc3QxKTtcbmNvbnN0IHBsYXllcjIgPSBDb21wdXRlclBsYXllcignUGxheWVyIDInLCBnYW1lYm9hcmQyLCBzaGlwTGlzdDIpO1xuXG5sZXQgY3Vyc29yRGlyZWN0aW9uID0gJ3gnO1xuXG4vLyBET00gc3R1ZmZcblxuY29uc3QgY29tcHV0ZXJTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbXB1dGVyLXNxdWFyZScpO1xuY29uc3QgcGxheWVyUm90YXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllci1yb3RhdGUtYnRuJyk7XG5cbnBsYXllclJvdGF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaWYgKGN1cnNvckRpcmVjdGlvbiA9PT0gJ3gnKSB7XG4gICAgY3Vyc29yRGlyZWN0aW9uID0gJ3knO1xuICB9IGVsc2Uge1xuICAgIGN1cnNvckRpcmVjdGlvbiA9ICd4JztcbiAgfVxufSlcblxuY29uc3QgaXNDbG9zZVRvRWRnZSA9IChzaGlwTGVuZ3RoLCBpbmRleCkgPT4ge1xuICBpZiAoY3Vyc29yRGlyZWN0aW9uID09PSAneCcpIHtcbiAgICBsZXQgaG9yaXpvbnRhbEluZGV4O1xuICAgIGlmIChpbmRleCA8IDEwKSB7XG4gICAgICBob3Jpem9udGFsSW5kZXggPSBpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9yaXpvbnRhbEluZGV4ID0gcGFyc2VJbnQoaW5kZXgudG9TdHJpbmcoKS5zbGljZSgxKSk7XG4gICAgfVxuICAgIGlmIChob3Jpem9udGFsSW5kZXggKyBzaGlwTGVuZ3RoID4gMTApIHJldHVybiB0cnVlO1xuICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHZlcnRpY2FsSW5kZXg7XG4gICAgaWYgKGluZGV4IDwgMTApIHtcbiAgICAgIHZlcnRpY2FsSW5kZXggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJ0aWNhbEluZGV4ID0gcGFyc2VJbnQoaW5kZXgudG9TdHJpbmcoKS5zbGljZSgwLDEpKTtcbiAgICB9XG4gICAgaWYgKHZlcnRpY2FsSW5kZXggKyBzaGlwTGVuZ3RoID4gMTApIHJldHVybiB0cnVlO1xuICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgZGlzdGFuY2VUb0VkZ2UgPSAoaW5kZXgpID0+IHtcbiAgaWYgKGN1cnNvckRpcmVjdGlvbiA9PT0gJ3gnKSB7XG4gICAgbGV0IGhvcml6b250YWxJbmRleDtcbiAgICBpZiAoaW5kZXggPCAxMCkge1xuICAgICAgaG9yaXpvbnRhbEluZGV4ID0gaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvcml6b250YWxJbmRleCA9IHBhcnNlSW50KGluZGV4LnRvU3RyaW5nKCkuc2xpY2UoMSkpO1xuICAgIH1cbiAgICByZXR1cm4gOSAtIGhvcml6b250YWxJbmRleDtcbiAgfSBlbHNlIHtcbiAgICBsZXQgdmVydGljYWxJbmRleDtcbiAgICBpZiAoaW5kZXggPCAxMCkge1xuICAgICAgdmVydGljYWxJbmRleCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnRpY2FsSW5kZXggPSBwYXJzZUludChpbmRleC50b1N0cmluZygpLnNsaWNlKDAsMSkpO1xuICAgIH1cbiAgICByZXR1cm4gOSAtIHZlcnRpY2FsSW5kZXg7XG4gIH1cbn1cblxuY29uc3QgcGxhY2VQbGF5ZXJTaGlwcyA9ICh0dXJuKSA9PiB7XG4gIGNvbnN0IHBsYXllclNxdWFyZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheWVyLXNxdWFyZScpO1xuXG4gIGxldCBzaGlwO1xuXG4gIGlmICh0dXJuID09PSAxKSB7XG4gICAgc2hpcCA9IHBhdHJvbDE7XG4gIH1cbiAgaWYgKHR1cm4gPT09IDIpIHtcbiAgICBzaGlwID0gc3VibWFyaW5lMTtcbiAgfVxuICBpZiAodHVybiA9PT0gMykge1xuICAgIHNoaXAgPSBkZXN0cm95ZXIxO1xuICB9XG4gIGlmICh0dXJuID09PSA0KSB7XG4gICAgc2hpcCA9IGJhdHRsZXNoaXAxO1xuICB9XG4gIGlmICh0dXJuID09PSA1KSB7XG4gICAgc2hpcCA9IGNhcnJpZXIxO1xuICB9XG5cbiAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgbGV0IHZhbGlkQWRqYWNlbnRTcXVhcmVzID0gW107XG5cbiAgICBjb21wdXRlclNxdWFyZXMuZm9yRWFjaCgoc3F1YXJlKSA9PiB7XG4gICAgICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCBzcXVhcmVOdW1iZXIgPSBlLnRhcmdldC5pZC5zbGljZSgxNik7XG4gICAgICAgIGNvbnN0IHN0cmluZ0Nvb3JkaW5hdGVzID0gc3F1YXJlTnVtYmVyLnNwbGl0KCcnKTtcbiAgICAgICAgY29uc3QgbnVtQ29vcmRpbmF0ZXMgPSBzdHJpbmdDb29yZGluYXRlcy5tYXAoKGVsKSA9PiBwYXJzZUludChlbCkpO1xuICAgICAgICBpZihwbGF5ZXIyLmdhbWVib2FyZC5ncmlkW251bUNvb3JkaW5hdGVzWzBdXVtudW1Db29yZGluYXRlc1sxXV0uaXNIaXQgPT09IHRydWUgfHwgXG4gICAgICAgICAgICBwbGF5ZXIyLmdhbWVib2FyZC5ncmlkW251bUNvb3JkaW5hdGVzWzBdXVtudW1Db29yZGluYXRlc1sxXV0uaXNIaXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIHBsYXllcjEuYXR0YWNrKHBsYXllcjIsIG51bUNvb3JkaW5hdGVzKTtcbiAgICAgICAgcGxheWVyMi5nYW1lYm9hcmQubG9nQXR0YWNrKG51bUNvb3JkaW5hdGVzKTtcbiAgICAgICAgaWYgKHBsYXllcjIuZ2FtZWJvYXJkLmNoZWNrSGl0KG51bUNvb3JkaW5hdGVzKSkge1xuICAgICAgICAgIGNvbnN0IHNoaXAgPSBzaGlwTGlzdDIuZmluZCgoc2hpcCkgPT4gc2hpcC5uYW1lID09PSBwbGF5ZXIyLmdhbWVib2FyZC5ncmlkW251bUNvb3JkaW5hdGVzWzBdXVtudW1Db29yZGluYXRlc1sxXV0uc2hpcCk7XG4gICAgICAgICAgc2hpcC5pc1N1bmsoKTtcbiAgICAgICAgfVxuICAgICAgICBnYW1lYm9hcmQyLnJlbmRlckdhbWVib2FyZCh0cnVlKTtcbiAgICBcbiAgICAgICAgaWYgKHBsYXllcjIuZ2FtZWJvYXJkLmlzR2FtZU92ZXIoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIE92ZXIhIFBsYXllciAxIFdpbnMhJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsaWRBZGphY2VudFNxdWFyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRhY2tlZENvb3JkaW5hdGVzID0gcGxheWVyMi5hdHRhY2tSYW5kb20ocGxheWVyMSk7XG4gICAgICAgICAgICBpZiAocGxheWVyMS5nYW1lYm9hcmQuZ3JpZFthdHRhY2tlZENvb3JkaW5hdGVzWzBdXVthdHRhY2tlZENvb3JkaW5hdGVzWzFdXS5pc0hpdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB2YWxpZEFkamFjZW50U3F1YXJlcyA9IChwbGF5ZXIyLnNlZWtWYWxpZEFkamFjZW50U3F1YXJlcyhhdHRhY2tlZENvb3JkaW5hdGVzLCBwbGF5ZXIxLmdhbWVib2FyZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwbGF5ZXIyLmF0dGFjayhwbGF5ZXIxLCB2YWxpZEFkamFjZW50U3F1YXJlc1swXSk7XG4gICAgICAgICAgICBpZiAocGxheWVyMS5nYW1lYm9hcmQuZ3JpZFt2YWxpZEFkamFjZW50U3F1YXJlc1swXVswXV1bdmFsaWRBZGphY2VudFNxdWFyZXNbMF1bMV1dLmlzSGl0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICB2YWxpZEFkamFjZW50U3F1YXJlcy5zaGlmdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3VmFsaWRBZGphY2VudFNxdWFyZXMgPSBwbGF5ZXIyLnNlZWtWYWxpZEFkamFjZW50U3F1YXJlcyh2YWxpZEFkamFjZW50U3F1YXJlc1swXSwgcGxheWVyMS5nYW1lYm9hcmQpO1xuICAgICAgICAgICAgICBuZXdWYWxpZEFkamFjZW50U3F1YXJlcy5mb3JFYWNoKChzcXVhcmUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShKU09OLnN0cmluZ2lmeSh2YWxpZEFkamFjZW50U3F1YXJlcykuaW5jbHVkZXMoSlNPTi5zdHJpbmdpZnkoc3F1YXJlKSkpKSB2YWxpZEFkamFjZW50U3F1YXJlcy5wdXNoKHNxdWFyZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIHZhbGlkQWRqYWNlbnRTcXVhcmVzLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGdhbWVib2FyZDEucmVuZGVyR2FtZWJvYXJkKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIxLmdhbWVib2FyZC5pc0dhbWVPdmVyKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgT3ZlciEgUGxheWVyIDIgV2lucyEnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjb25zb2xlLmxvZyhgUGxhY2UgeW91ciAke3NoaXAubmFtZX1gKTtcbiAgbGV0IHNoaXBMZW5ndGggPSBzaGlwLnNpemU7XG4gIFxuICBwbGF5ZXJTcXVhcmVzLmZvckVhY2goKHNxdWFyZSwgaW5kZXgpID0+IHtcbiAgICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgaWYoIShpc0Nsb3NlVG9FZGdlKHNoaXBMZW5ndGgsIGluZGV4KSkpIHtcbiAgICAgICAgaWYgKGN1cnNvckRpcmVjdGlvbiA9PT0gJ3gnKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHsgICAgICAgICBcbiAgICAgICAgICAgIHBsYXllclNxdWFyZXNbaW5kZXggKyBpXS5jbGFzc0xpc3QuYWRkKCdzaGFkb3cnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBsYXllclNxdWFyZXNbaW5kZXggKyAoaSAqIDEwKV0uY2xhc3NMaXN0LmFkZCgnc2hhZG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFZGdlIGNhc2VcbiAgICAgICAgaWYgKGN1cnNvckRpcmVjdGlvbiA9PT0gJ3gnKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXN0YW5jZVRvRWRnZShpbmRleCkgKyAxOyBpKyspIHsgICAgICAgICBcbiAgICAgICAgICAgIHBsYXllclNxdWFyZXNbaW5kZXggKyBpXS5jbGFzc0xpc3QuYWRkKCdzaGFkb3cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gc2hpcExlbmd0aCAtIChkaXN0YW5jZVRvRWRnZShpbmRleCkgKyAxKTsgaisrKSB7XG4gICAgICAgICAgICBwbGF5ZXJTcXVhcmVzW2luZGV4IC0gal0uY2xhc3NMaXN0LmFkZCgnc2hhZG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzdGFuY2VUb0VkZ2UoaW5kZXgpICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBwbGF5ZXJTcXVhcmVzW2luZGV4ICsgKGkgKiAxMCldLmNsYXNzTGlzdC5hZGQoJ3NoYWRvdycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBzaGlwTGVuZ3RoIC0gKGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDEpOyBqKyspIHtcbiAgICAgICAgICAgIHBsYXllclNxdWFyZXNbaW5kZXggLSAoaiAqIDEwKV0uY2xhc3NMaXN0LmFkZCgnc2hhZG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IFxuICAgIH0pO1xuICB9KVxuXG4gIHBsYXllclNxdWFyZXMuZm9yRWFjaCgoc3F1YXJlLCBpbmRleCkgPT4ge1xuICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgIGlmKCEoaXNDbG9zZVRvRWRnZShzaGlwTGVuZ3RoLCBpbmRleCkpKSB7XG4gICAgICAgIGlmIChjdXJzb3JEaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7ICAgICAgICAgXG4gICAgICAgICAgICBwbGF5ZXJTcXVhcmVzW2luZGV4ICsgaV0uY2xhc3NMaXN0LnJlbW92ZSgnc2hhZG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwbGF5ZXJTcXVhcmVzW2luZGV4ICsgKGkgKiAxMCldLmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWRvdycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRWRnZSBjYXNlXG4gICAgICAgIGlmIChjdXJzb3JEaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzdGFuY2VUb0VkZ2UoaW5kZXgpICsgMTsgaSsrKSB7ICAgICAgICAgXG4gICAgICAgICAgICBwbGF5ZXJTcXVhcmVzW2luZGV4ICsgaV0uY2xhc3NMaXN0LnJlbW92ZSgnc2hhZG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IHNoaXBMZW5ndGggLSAoZGlzdGFuY2VUb0VkZ2UoaW5kZXgpICsgMSk7IGorKykge1xuICAgICAgICAgICAgcGxheWVyU3F1YXJlc1tpbmRleCAtIGpdLmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWRvdycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDE7IGkrKykge1xuICAgICAgICAgICAgcGxheWVyU3F1YXJlc1tpbmRleCArIChpICogMTApXS5jbGFzc0xpc3QucmVtb3ZlKCdzaGFkb3cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gc2hpcExlbmd0aCAtIChkaXN0YW5jZVRvRWRnZShpbmRleCkgKyAxKTsgaisrKSB7XG4gICAgICAgICAgICBwbGF5ZXJTcXVhcmVzW2luZGV4IC0gKGogKiAxMCldLmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWRvdycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBcbiAgICB9KTtcbiAgfSlcblxuICBwbGF5ZXJTcXVhcmVzLmZvckVhY2goKHNxdWFyZSwgaW5kZXgpID0+IHtcbiAgICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3Qgc3F1YXJlTnVtYmVyID0gZS50YXJnZXQuaWQuc2xpY2UoNyk7XG4gICAgICBjb25zdCBzdHJpbmdDb29yZGluYXRlcyA9IHNxdWFyZU51bWJlci5zcGxpdCgnJyk7XG4gICAgICBjb25zdCBudW1Db29yZGluYXRlcyA9IHN0cmluZ0Nvb3JkaW5hdGVzLm1hcCgoZWwpID0+IHBhcnNlSW50KGVsKSk7XG4gICAgICBcbiAgICAgIGlmIChnYW1lYm9hcmQxLmlzVmFsaWRQbGFjZW1lbnQoc2hpcCwgbnVtQ29vcmRpbmF0ZXMsIGN1cnNvckRpcmVjdGlvbikpIHtcbiAgICAgICAgZ2FtZWJvYXJkMS5wbGFjZShzaGlwLCBudW1Db29yZGluYXRlcywgY3Vyc29yRGlyZWN0aW9uKTtcbiAgICAgICAgZ2FtZWJvYXJkMS5yZW5kZXJHYW1lYm9hcmQoKTtcbiAgICAgICAgdHVybisrXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHBsYXllclNxdWFyZXMpO1xuICAgICAgICBpZiAodHVybiA9PT0gNikge1xuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BsYWNlbWVudCBwaGFzZSBvdmVyLiBUYWtlIHRoZSBmaXJzdCBzaG90LicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTsgXG4gICAgICAgIHBsYWNlUGxheWVyU2hpcHModHVybik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGUpID0+IHsgICAgICAvL211c3QgYmUgbW91c2VvdmVyICEhIVxuICAgICAgY29uc3Qgc3F1YXJlTnVtYmVyID0gZS50YXJnZXQuaWQuc2xpY2UoNyk7XG4gICAgICBjb25zdCBzdHJpbmdDb29yZGluYXRlcyA9IHNxdWFyZU51bWJlci5zcGxpdCgnJyk7XG4gICAgICBjb25zdCBudW1Db29yZGluYXRlcyA9IHN0cmluZ0Nvb3JkaW5hdGVzLm1hcCgoZWwpID0+IHBhcnNlSW50KGVsKSk7XG5cbiAgICAgIGlmKCEoaXNDbG9zZVRvRWRnZShzaGlwTGVuZ3RoLCBpbmRleCkpKSB7XG4gICAgICAgIGlmIChjdXJzb3JEaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICAgIGlmIChnYW1lYm9hcmQxLmlzVmFsaWRQbGFjZW1lbnQoc2hpcCwgbnVtQ29vcmRpbmF0ZXMsIGN1cnNvckRpcmVjdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBsZXQgc3F1YXJlRWxlbWVudDtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNxdWFyZU51bWJlcikgPCAxMCkge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLTAke3BhcnNlSW50KHNxdWFyZU51bWJlcikgKyBpfWApXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtJHtwYXJzZUludChzcXVhcmVOdW1iZXIpICsgaX1gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdncmV5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGdhbWVib2FyZDEuaXNWYWxpZFBsYWNlbWVudChzaGlwLCBudW1Db29yZGluYXRlcywgY3Vyc29yRGlyZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxldCBzcXVhcmVFbGVtZW50O1xuICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoc3F1YXJlTnVtYmVyKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLTAke3BhcnNlSW50KHNxdWFyZU51bWJlcikgKyAoaSAqIDEwKX1gKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0ke3BhcnNlSW50KHNxdWFyZU51bWJlcikgKyAoaSAqIDEwKX1gKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0ke3BhcnNlSW50KHNxdWFyZU51bWJlcikgKyAoaSAqIDEwKX1gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdncmV5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVkZ2UgY2FzZVxuICAgICAgICBpZiAoY3Vyc29yRGlyZWN0aW9uID09PSAneCcpIHtcbiAgICAgICAgICBpZiAoZ2FtZWJvYXJkMS5pc1ZhbGlkUGxhY2VtZW50KHNoaXAsIG51bUNvb3JkaW5hdGVzLCBjdXJzb3JEaXJlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXN0YW5jZVRvRWRnZShpbmRleCkgKyAxOyBpKyspIHtcbiAgICAgICAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChwYXJzZUludChzcXVhcmVOdW1iZXIpIDwgMTApIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0wJHtwYXJzZUludChzcXVhcmVOdW1iZXIpICsgaX1gKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIGl9YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBzaGlwTGVuZ3RoIC0gKGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDEpOyBqKyspIHtcbiAgICAgICAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChwYXJzZUludChzcXVhcmVOdW1iZXIpIDwgMTApIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0wJHtwYXJzZUludChzcXVhcmVOdW1iZXIpIC0gan1gKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIGp9YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChnYW1lYm9hcmQxLmlzVmFsaWRQbGFjZW1lbnQoc2hpcCwgbnVtQ29vcmRpbmF0ZXMsIGN1cnNvckRpcmVjdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDE7IGkrKykge1xuICAgICAgICAgICAgICBsZXQgc3F1YXJlRWxlbWVudDtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNxdWFyZU51bWJlcikgPCAxMCkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0wJHtwYXJzZUludChzcXVhcmVOdW1iZXIpICsgKGkgKiAxMCl9YClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtJHtwYXJzZUludChzcXVhcmVOdW1iZXIpICsgKGkgKiAxMCl9YClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtJHtwYXJzZUludChzcXVhcmVOdW1iZXIpICsgKGkgKiAxMCl9YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBzaGlwTGVuZ3RoIC0gKGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDEpOyBqKyspIHtcbiAgICAgICAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChwYXJzZUludChzcXVhcmVOdW1iZXIpIDwgMTApIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtMCR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIChqICogMTApfWApXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIChqICogMTApfWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIChqICogMTApfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZXknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHNxdWFyZU51bWJlciA9IGUudGFyZ2V0LmlkLnNsaWNlKDcpO1xuICAgICAgY29uc3Qgc3RyaW5nQ29vcmRpbmF0ZXMgPSBzcXVhcmVOdW1iZXIuc3BsaXQoJycpO1xuICAgICAgY29uc3QgbnVtQ29vcmRpbmF0ZXMgPSBzdHJpbmdDb29yZGluYXRlcy5tYXAoKGVsKSA9PiBwYXJzZUludChlbCkpO1xuXG4gICAgICBpZighKGlzQ2xvc2VUb0VkZ2Uoc2hpcExlbmd0aCwgaW5kZXgpKSkge1xuICAgICAgICBpZiAoY3Vyc29yRGlyZWN0aW9uID09PSAneCcpIHtcbiAgICAgICAgICBpZiAoZ2FtZWJvYXJkMS5pc1ZhbGlkUGxhY2VtZW50KGNhcnJpZXIxLCBudW1Db29yZGluYXRlcywgY3Vyc29yRGlyZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxldCBzcXVhcmVFbGVtZW50O1xuICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoc3F1YXJlTnVtYmVyKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtMCR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIGl9YClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0ke3BhcnNlSW50KHNxdWFyZU51bWJlcikgKyBpfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChnYW1lYm9hcmQxLmlzVmFsaWRQbGFjZW1lbnQoY2FycmllcjEsIG51bUNvb3JkaW5hdGVzLCBjdXJzb3JEaXJlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChwYXJzZUludChzcXVhcmVOdW1iZXIpIDwgMTApIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtMCR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIChpICogMTApfWApXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIChpICogMTApfWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIChpICogMTApfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlZGdlIGNhc2VcbiAgICAgICAgaWYgKGN1cnNvckRpcmVjdGlvbiA9PT0gJ3gnKSB7XG4gICAgICAgICAgaWYgKGdhbWVib2FyZDEuaXNWYWxpZFBsYWNlbWVudChjYXJyaWVyMSwgbnVtQ29vcmRpbmF0ZXMsIGN1cnNvckRpcmVjdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDE7IGkrKykge1xuICAgICAgICAgICAgICBsZXQgc3F1YXJlRWxlbWVudDtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNxdWFyZU51bWJlcikgPCAxMCkge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLTAke3BhcnNlSW50KHNxdWFyZU51bWJlcikgKyBpfWApXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtJHtwYXJzZUludChzcXVhcmVOdW1iZXIpICsgaX1gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gc2hpcExlbmd0aCAtIChkaXN0YW5jZVRvRWRnZShpbmRleCkgKyAxKTsgaisrKSB7XG4gICAgICAgICAgICAgIGxldCBzcXVhcmVFbGVtZW50O1xuICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoc3F1YXJlTnVtYmVyKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtMCR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIGp9YClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NxdWFyZS0ke3BhcnNlSW50KHNxdWFyZU51bWJlcikgLSBqfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChnYW1lYm9hcmQxLmlzVmFsaWRQbGFjZW1lbnQoY2FycmllcjEsIG51bUNvb3JkaW5hdGVzLCBjdXJzb3JEaXJlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXN0YW5jZVRvRWRnZShpbmRleCkgKyAxOyBpKyspIHtcbiAgICAgICAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChwYXJzZUludChzcXVhcmVOdW1iZXIpIDwgMTApIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtMCR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIChpICogMTApfWApXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIChpICogMTApfWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSArIChpICogMTApfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBzaGlwTGVuZ3RoIC0gKGRpc3RhbmNlVG9FZGdlKGluZGV4KSArIDEpOyBqKyspIHtcbiAgICAgICAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChwYXJzZUludChzcXVhcmVOdW1iZXIpIDwgMTApIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzcXVhcmUtMCR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIChqICogMTApfWApXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIChqICogMTApfWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc3F1YXJlLSR7cGFyc2VJbnQoc3F1YXJlTnVtYmVyKSAtIChqICogMTApfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3F1YXJlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pXG59XG5cbmNvbnN0IHJlbW92ZUV2ZW50TGlzdGVuZXJzID0gKHBsYXllclNxdWFyZXMpID0+IHtcbiAgcGxheWVyU3F1YXJlcy5mb3JFYWNoKChvbGRTcXVhcmUpID0+IHtcbiAgICBjb25zdCBuZXdTcXVhcmUgPSBvbGRTcXVhcmUuY2xvbmVOb2RlKHRydWUpO1xuICAgIG9sZFNxdWFyZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdTcXVhcmUsIG9sZFNxdWFyZSk7XG4gIH0pXG59XG5cbmNvbnN0IGluaXRDb21wdXRlckJvYXJkID0gKCkgPT4ge1xuICBjb25zdCBjaG9vc2VSYW5kb21FbGVtZW50ID0gKGFycmF5KSA9PiB7XG4gICAgY29uc3QgcmFuZEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKTtcbiAgICByZXR1cm4gYXJyYXlbcmFuZEluZGV4XTtcbiAgfVxuXG4gIHNoaXBMaXN0Mi5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgbGV0IHNoaXBJc1BsYWNlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGVtcHR5U3BhY2VzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgaWYgKGdhbWVib2FyZDIuZ3JpZFtpXVtqXS5zaGlwID09PSBudWxsKSBlbXB0eVNwYWNlcy5wdXNoKFtpLGpdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJhbmRvbURpcmVjdGlvbjtcbiAgICBpZiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgPT09IDApIHJhbmRvbURpcmVjdGlvbiA9ICd4J1xuICAgIGVsc2UgcmFuZG9tRGlyZWN0aW9uID0gJ3knO1xuICAgIGxldCByYW5kb21TcGFjZSA9IGNob29zZVJhbmRvbUVsZW1lbnQoZW1wdHlTcGFjZXMpO1xuXG4gICAgXG4gICAgd2hpbGUoc2hpcElzUGxhY2VkID09PSBmYWxzZSkge1xuICAgICAgaWYgKGdhbWVib2FyZDIuaXNWYWxpZFBsYWNlbWVudChzaGlwLCByYW5kb21TcGFjZSwgcmFuZG9tRGlyZWN0aW9uKSkge1xuICAgICAgICBnYW1lYm9hcmQyLnBsYWNlKHNoaXAsIHJhbmRvbVNwYWNlLCByYW5kb21EaXJlY3Rpb24pO1xuICAgICAgICBzaGlwSXNQbGFjZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZG9tU3BhY2UgPSBjaG9vc2VSYW5kb21FbGVtZW50KGVtcHR5U3BhY2VzKTtcbiAgICAgICAgaWYgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpID09PSAwKSByYW5kb21EaXJlY3Rpb24gPSAneCdcbiAgICAgICAgZWxzZSByYW5kb21EaXJlY3Rpb24gPSAneSc7XG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5cbnBsYWNlUGxheWVyU2hpcHMoMSlcbmluaXRDb21wdXRlckJvYXJkKCkiLCJjb25zdCBQbGF5ZXIgPSAobmFtZSwgZ2FtZWJvYXJkLCBzaGlwTGlzdCkgPT4ge1xuXG4gIGNvbnN0IGF0dGFjayA9IChwbGF5ZXIsIGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgcGxheWVyLmdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzLCBwbGF5ZXIuc2hpcExpc3QpO1xuICB9IFxuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnYW1lYm9hcmQsXG4gICAgc2hpcExpc3QsXG4gICAgYXR0YWNrXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyIiwiY29uc3QgQ29tcHV0ZXJQbGF5ZXIgPSAobmFtZSwgZ2FtZWJvYXJkLCBzaGlwTGlzdCkgPT4ge1xuXG4gICAgY29uc3QgZmluZEF0dGFja2FibGVTcXVhcmVDb29yZGluYXRlcyA9IChwbGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IGF0dGFja2FibGVTcXVhcmVDb29yZGluYXRlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICAgIGlmIChwbGF5ZXIuZ2FtZWJvYXJkLmdyaWRbaV1bal0uaXNIaXQgPT09IG51bGwpIGF0dGFja2FibGVTcXVhcmVDb29yZGluYXRlcy5wdXNoKFtpLCBqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhdHRhY2thYmxlU3F1YXJlQ29vcmRpbmF0ZXM7XG4gICAgfVxuICBcbiAgICBjb25zdCBjaG9vc2VSYW5kb21FbGVtZW50ID0gKGFycmF5KSA9PiB7XG4gICAgICBjb25zdCByYW5kSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpO1xuICAgICAgcmV0dXJuIGFycmF5W3JhbmRJbmRleF07XG4gICAgfVxuICBcbiAgICBjb25zdCBhdHRhY2sgPSAocGxheWVyLCBjb29yZGluYXRlcykgPT4ge1xuICAgICAgcGxheWVyLmdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzLCBwbGF5ZXIuc2hpcExpc3QpO1xuICAgIH0gXG4gIFxuICAgIGNvbnN0IGF0dGFja1JhbmRvbSA9IChwbGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IGF0dGFja2FibGVTcXVhcmVDb29yZGluYXRlcyA9IGZpbmRBdHRhY2thYmxlU3F1YXJlQ29vcmRpbmF0ZXMocGxheWVyKTtcbiAgICAgIGNvbnN0IHJhbmRTcXVhcmVDb29yZGluYXRlcyA9IGNob29zZVJhbmRvbUVsZW1lbnQoYXR0YWNrYWJsZVNxdWFyZUNvb3JkaW5hdGVzKTtcbiAgICAgIHBsYXllci5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhyYW5kU3F1YXJlQ29vcmRpbmF0ZXMsIHBsYXllci5zaGlwTGlzdCk7XG4gICAgICByZXR1cm4gcmFuZFNxdWFyZUNvb3JkaW5hdGVzO1xuICAgIH1cbiAgXG4gICAgY29uc3Qgc2Vla1ZhbGlkQWRqYWNlbnRTcXVhcmVzID0gKGNvb3JkaW5hdGVzLCBnYW1lYm9hcmQpID0+IHtcbiAgICAgIGxldCB5ID0gY29vcmRpbmF0ZXNbMF07XG4gICAgICBsZXQgeCA9IGNvb3JkaW5hdGVzWzFdO1xuICAgICAgY29uc3QgdmFsaWRBZGphY2VudFNxdWFyZXMgPSBbXTtcbiAgICAgIGlmICggeSArIDEgPCAxMCkge1xuICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbeSArIDFdW3hdLmlzSGl0ID09PSBudWxsKSB2YWxpZEFkamFjZW50U3F1YXJlcy5wdXNoKFt5ICsgMSwgeF0pO1xuICAgICAgfVxuICAgICAgaWYgKCB5IC0gMSA+IC0xKSB7XG4gICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFt5IC0gMV1beF0uaXNIaXQgPT09IG51bGwpIHZhbGlkQWRqYWNlbnRTcXVhcmVzLnB1c2goW3kgLSAxLCB4XSk7XG4gICAgICB9XG4gICAgICBpZiAoIHggKyAxIDwgMTApIHtcbiAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW3ldW3ggKyAxXS5pc0hpdCA9PT0gbnVsbCkgdmFsaWRBZGphY2VudFNxdWFyZXMucHVzaChbeSwgeCArIDFdKTtcbiAgICAgIH1cbiAgICAgIGlmICggeCAtIDEgPiAtMSkge1xuICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbeV1beCAtIDFdLmlzSGl0ID09PSBudWxsKSB2YWxpZEFkamFjZW50U3F1YXJlcy5wdXNoKFt5LCB4IC0gMV0pO1xuICAgICAgfVxuICBcbiAgICAgIHJldHVybiB2YWxpZEFkamFjZW50U3F1YXJlc1xuICAgIH1cbiAgXG4gICAgLy8gY29uc3QgYXR0YWNrXG4gIFxuICAgIHJldHVybiB7XG4gICAgICBuYW1lLFxuICAgICAgZ2FtZWJvYXJkLFxuICAgICAgc2hpcExpc3QsXG4gICAgICBhdHRhY2ssXG4gICAgICBhdHRhY2tSYW5kb20sXG4gICAgICBzZWVrVmFsaWRBZGphY2VudFNxdWFyZXNcbiAgICB9XG4gIH1cbiAgXG4gIGV4cG9ydCBkZWZhdWx0IENvbXB1dGVyUGxheWVyIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJuYyIsInNpemUiLCJuYW1lIiwicG9zaXRpb25zIiwiaGl0IiwicG9zaXRpb25JbmRleCIsImlzU3VuayIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsImdyaWQiLCJmb3JFYWNoIiwicm93Iiwic3F1YXJlIiwic2hpcCIsImlzSGl0IiwiaXNDbG9zZVRvRWRnZSIsInN0YXJ0UG9zaXRpb24iLCJkaXJlY3Rpb24iLCJzdGFydGluZ1lQb3NpdGlvbiIsImlzVmFsaWRQbGFjZW1lbnQiLCJzdGFydGluZ1hQb3NpdGlvbiIsImRpc3RhbmNlVG9FZGdlIiwicmVtYWluaW5nU3BvdHNUb1BsYWNlIiwiaiIsImNoZWNrSGl0IiwiY29vcmRpbmF0ZXMiLCJjb21wYXJlQXJyYXkiLCJhcnJheTEiLCJhcnJheTIiLCJwbGFjZSIsInJlY2VpdmVBdHRhY2siLCJsaXN0T2ZTaGlwcyIsInNoaXBOYW1lIiwiY29vcmRpbmF0ZXNMaXN0IiwiaW5kZXhPZkhpdCIsImZpbmQiLCJpc0dhbWVPdmVyIiwiZm91bmRMaXZlU2hpcCIsInNoaXBTcXVhcmVzIiwiZ2V0U2hpcFNxdWFyZXMiLCJzaGlwU3F1YXJlIiwicmVuZGVyR2FtZWJvYXJkIiwiaXNDb21wdXRlclBsYXllciIsImNsYXNzTGlzdCIsImFkZCIsInNxdWFyZUVsZW1lbnQiLCJsb2dBdHRhY2siLCJjYXJyaWVyMSIsImJhdHRsZXNoaXAxIiwiZGVzdHJveWVyMSIsInN1Ym1hcmluZTEiLCJwYXRyb2wxIiwiY2FycmllcjIiLCJiYXR0bGVzaGlwMiIsImRlc3Ryb3llcjIiLCJzdWJtYXJpbmUyIiwicGF0cm9sMiIsInNoaXBMaXN0MSIsInNoaXBMaXN0MiIsImdhbWVib2FyZDEiLCJnYW1lYm9hcmQyIiwicGxheWVyMSIsImdhbWVib2FyZCIsInNoaXBMaXN0IiwiYXR0YWNrIiwicGxheWVyIiwicGxheWVyMiIsImF0dGFja1JhbmRvbSIsImF0dGFja2FibGVTcXVhcmVDb29yZGluYXRlcyIsImZpbmRBdHRhY2thYmxlU3F1YXJlQ29vcmRpbmF0ZXMiLCJyYW5kU3F1YXJlQ29vcmRpbmF0ZXMiLCJhcnJheSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNlZWtWYWxpZEFkamFjZW50U3F1YXJlcyIsInkiLCJ4IiwidmFsaWRBZGphY2VudFNxdWFyZXMiLCJjdXJzb3JEaXJlY3Rpb24iLCJjb21wdXRlclNxdWFyZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwic2hpcExlbmd0aCIsImhvcml6b250YWxJbmRleCIsInBhcnNlSW50Iiwic2xpY2UiLCJ2ZXJ0aWNhbEluZGV4IiwicGxhY2VQbGF5ZXJTaGlwcyIsInR1cm4iLCJwbGF5ZXJTcXVhcmVzIiwibnVtQ29vcmRpbmF0ZXMiLCJzcGxpdCIsImVsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJhdHRhY2tlZENvb3JkaW5hdGVzIiwic2hpZnQiLCJhZGRFdmVudExpc3RlbmVycyIsInNxdWFyZU51bWJlciIsImJhY2tncm91bmQiLCJvbGRTcXVhcmUiLCJuZXdTcXVhcmUiLCJjbG9uZU5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJjaG9vc2VSYW5kb21FbGVtZW50Iiwic2hpcElzUGxhY2VkIiwiZW1wdHlTcGFjZXMiLCJyYW5kb21EaXJlY3Rpb24iLCJyYW5kb21TcGFjZSIsImluaXRDb21wdXRlckJvYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==